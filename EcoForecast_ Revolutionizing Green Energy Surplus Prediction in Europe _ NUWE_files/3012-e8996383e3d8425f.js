"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3012],{23705:function(f,d,a){a.d(d,{l:function(){return c}});var g=a(26042),h=a(69396),i=a(99534),j=a(85893),k=a(11057),l=a(98456),e=a(45697),b=a.n(e),c=function(a){var c=a.noShow,b=a.loading,d=a.disabled,e=a.children,f=a.onClick,m=a.isSecondary,n=a.startIcon,o=a.showStartIcon,p=a.outlined,q=(0,i.Z)(a,["noShow","loading","disabled","children","onClick","isSecondary","startIcon","showStartIcon","outlined"]);return c?null:(0,j.jsx)(k.Z,(0,h.Z)((0,g.Z)({id:"btn-loader",disableElevation:!0,color:m?"secondary":"primary",variant:p?"outlined":"contained",disabled:b||d,onClick:f,startIcon:o&&n,endIcon:b&&(0,j.jsx)(l.Z,{size:20})},q),{children:e}))};c.propTypes={loading:b().bool,disabled:b().bool,children:b().node||b().string,onClick:b().func.isRequired,showStartIcon:b().bool,startIcon:b().node,style:b().object},c.defaultProps={loading:!1,disabled:!1,children:"Click me"}},3012:function(n,j,b){b.d(j,{w:function(){return i}});var o=b(47568),p=b(82670),q=b(26042),r=b(69396),k=b(34051),s=b.n(k),t=b(85893),u=b(11163),c=b(45697),a=b.n(c),v=b(67294),w=b(66242),x=b(33501),y=b(46901),z=b(99226),A=b(11057),B=b(56863),C=b(57922),f=b(15861),d=b(90948),D=b(50594),E=b(41733),F=b(9944),G=b(66818),e=b(24984),H=b(23705),I=b(2734),J=b(95986),l=b(22857),m=function(a){var d=a.save,e=a.deleteAction,f=a.launch,g=a.severity,h=a.cancel,c=(0,I.Z)(),b={variant:"contained",style:{backgroundColor:c.palette.warning.main}};return(0,t.jsxs)(B.Z,{disabled:"error"===g,variant:"contained",disableElevation:!0,children:[h&&(0,t.jsx)(H.l,(0,r.Z)((0,q.Z)({size:"medium","aria-label":"cancel",showStartIcon:!0,startIcon:(0,t.jsx)(D.Z,{fontSize:"inherit"}),onClick:function(){return h()}},b),{children:"Cancel"}),"cancel"),d&&(0,t.jsx)(H.l,(0,r.Z)((0,q.Z)({size:"medium","aria-label":"save",onClick:function(){return d()},showStartIcon:!0,startIcon:(0,t.jsx)(G.Z,{fontSize:"inherit"})},b),{children:"Save"}),"save"),e&&(0,t.jsx)(A.Z,(0,r.Z)((0,q.Z)({style:{backgroundColor:c.palette.warning.main},"aria-label":"delete",size:"medium",onClick:function(){return e()},startIcon:(0,t.jsx)(E.Z,{fontSize:"inherit"})},b),{children:"Delete"})),f&&(0,t.jsx)(A.Z,(0,r.Z)((0,q.Z)({"aria-label":"open",size:"medium",onClick:function(){return f()},startIcon:(0,t.jsx)(F.Z,{fontSize:"inherit"})},b),{children:"Open"}))]})};m.propTypes={save:a().func,cancel:a().func.isRequired,deleteAction:a().func,launch:a().func,severity:a().oneOf(e.CT).isRequired};var K=(0,d.ZP)(l.Z)({width:"2.375rem",height:"2.375rem",fontSize:"1.125rem"}),L=(0,d.ZP)(f.Z)(function(a){return{fontWeight:600,flex:"1 1 100%",overflow:"hidden",fontSize:"0.875rem",whiteSpace:"nowrap",textOverflow:"ellipsis",marginBottom:a.theme.spacing(.75)}}),M=(0,d.ZP)(f.Z)({flex:"1 1 100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}),N=function(c){var b=c.notification,a=b.type;return(0,t.jsxs)(z.Z,{sx:{width:"100%",display:"flex",alignItems:"center"},children:[(0,t.jsx)(K,{alt:"Avatar",src:b.user.image}),(0,t.jsxs)(z.Z,{sx:{mx:4,flex:"1 1",display:"flex",overflow:"hidden",flexDirection:"column"},children:[(0,t.jsx)(L,{children:"lead2user"===a||"user2lead"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"new_team_request"}):"lead2userAccepted"===a||"user2leadAccepted"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"team_request_accepted"}):"userLeftTeam"===a||"newTeamLeader"===a||"leaderKicksUser"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"team_update"}):"newReport"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"new_report"}):"personNotification"===a?null==b?void 0:b.title:void 0}),(0,t.jsxs)(M,{variant:"body2",children:["NUWE"!==b.user.username?b.user.username:""," ","user2lead"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"wants_to_join"}):"lead2user"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"invited_you"}):"user2leadAccepted"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"added_you"}):"lead2userAccepted"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"joined_your_team"}):"userLeftTeam"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"left_your_team"}):"newTeamLeader"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"new_team_leader"}):"leaderKicksUser"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"user_was_kicked"}):"newReport"===a?(0,t.jsx)(J.Z,{ns:"notifications",text:"report_message"}):"personNotification"===a?null==b?void 0:b.message:void 0]})]}),(0,t.jsx)(f.Z,{variant:"caption",sx:{color:"text.disabled"},children:b.date})]})},g=function(a){var c=a.simple,d=a.open,e=a.title,f=a.save,g=a.cancel,h=a.variant,b=a.severity,i=a.launch,j=a.deleteAction,k=a.isNotification,l=a.notification;return(0,t.jsx)(C.Z,{style:{background:"transparent"},in:d,children:k?(0,t.jsx)(y.Z,{icon:!1,severity:"success",onClose:function(){return g()},children:(0,t.jsx)(N,{notification:l})}):(0,t.jsx)(y.Z,{action:c?function(){return g()}:(0,t.jsx)(m,{launch:i,deleteAction:j,severity:b,save:f,cancel:g}),variant:h,style:{margin:"10px 0px"},severity:b,children:e})})};g.propTypes={simple:a().bool,open:a().bool.isRequired,save:a().func,cancel:a().func.isRequired,title:a().string,variant:a().oneOf(e.JE),severity:a().oneOf(e.CT),launch:a().func,deleteAction:a().func},g.defaultProps={simple:!1,variant:"outlined",severity:"warning",title:"Hey, there are some unsaved changes. Save them before changing the page!"};var O=b(42734),P=b(69497),Q=b(93946),R=b(61903),S=function(a){var e=a.onChange,c=a.toggle,f=a.value,b=a.title,g=a.clearSearch,d=a.headerButton,h=(0,J.T)().translate;return(0,t.jsxs)(z.Z,{sx:{p:5,pb:3,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:b?"space-between":"flex-end"},children:[b&&(0,t.jsx)(b,{}),(0,t.jsxs)(z.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[d&&(0,t.jsx)(d,{}),(0,t.jsx)(R.Z,{size:"small",variant:"outlined",value:f,sx:{width:{xs:1,sm:"auto"},m:function(a){return a.spacing(1,.5,1.5)},"& .MuiSvgIcon-root":{mr:.5},"& .MuiInput-underline:before":{borderBottom:1,borderColor:"divider"}},placeholder:h("search","common"),onChange:e,InputProps:{startAdornment:(0,t.jsx)(P.Z,{fontSize:"small"}),endAdornment:(0,t.jsx)(Q.Z,{size:"small",title:"Clear","aria-label":"Clear",onClick:g,children:(0,t.jsx)(O.Z,{fontSize:"small"})})}}),c&&(0,t.jsx)(A.Z,{sx:{mb:1,ml:2},onClick:c,variant:"contained",children:title})]})]})},h=function(a){var i=a.columns,j=a.data,k=a.deleteAction,l=a.selectedOpen,b=a.selectionModel,A=a.setSelectionModel,m=a.handleClose,n=a.launch,o=a.loading,B=a.handleCellChange,c=a.snackbar,C=a.handleFilter,d=a.checkboxSelection,p=a.tableDensity,r=a.filterValue,s=a.headerAction,u=a.width,e=a.height,f=a.showHeader,v=a.headerActionTitle,y=a.headerButton,z=a.disableColumnMenu,D=a.noRowsLabel,h=a.serverSideMode;return a.pagination,(0,t.jsxs)("div",{style:{width:u,height:e},children:[(0,t.jsx)(g,{cancel:m,title:"You have selected ".concat(null==b?void 0:b.length,"."),open:l,deleteAction:k,launch:n,severity:null==c?void 0:c.severity}),(0,t.jsx)(w.Z,{children:(0,t.jsx)(x._,(0,q.Z)({pagination:!0,rows:j,disableSelectionOnClick:!0,pageSize:10,columns:i,loading:o,density:p||"standard",checkboxSelection:void 0!==d&&d,disableColumnMenu:z,onSelectionModelChange:function(a){return A(a)},onEditCellPropsChange:function(a){return B(a)},components:{Toolbar:f?S:null,NoRowsOverlay:function(){return(0,t.jsx)("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:D||"No results found"})}},componentsProps:{toolbar:(0,q.Z)({value:r,clearSearch:function(){return C("")},onChange:function(a){return C(a.target.value)},toggle:s},v&&{title:function(){return v}},y&&{headerButton:function(){return y}})},sx:{height:e||"500px","& .MuiDataGrid-columnHeaders":{borderRadius:f&&"0px"}}},void 0===h?{}:h))})]})};h.propTypes={columns:a().array,data:a().array,deleteAction:a().func,pageSize:a().number,selectedOpen:a().bool,selectionModel:a().array,setSelectionModel:a().func,handleClose:a().func,launch:a().func,loading:a().bool,handleCellChange:a().func,snackbar:a().object,checkboxSelection:a().bool,tableDensity:a().string,width:a().string,height:a().string,showHeader:a().bool,headerActionTitle:a().object,headerButton:a().object,disableColumnMenu:a().bool,noRowsLabel:a().string};var T=h,i=function(a){var j=a.columns,d=a.data,k=a.showHeader,l=a.handleCellChange,X=a.deleteData,m=a.pageSize,n=a.urlPath,w=a.height,x=a.width,y=a.loading,z=a.tableDensity,A=a.checkboxSelection,B=a.headerAction,C=a.showLauncher,D=a.customFilter,E=a.headerButton,F=a.disableColumnMenu,G=a.noRowsLabel,H=a.headerActionTitle,b=a.useServerSidePagination,e=(0,v.useState)(!1),I=e[0],Y=e[1],f=(0,v.useState)(""),J=f[0],Z=f[1],g=(0,v.useState)([]),c=g[0],K=g[1],h=(0,v.useState)(function(){return d}),L=h[0],$=h[1],M=(0,v.useMemo)(function(){return d},[d]),i=(0,v.useState)({severity:"warning",message:"",open:!1}),N=i[0],_=i[1];(0,v.useEffect)(function(){d&&$(d)},[d]);var O,P=(0,u.useRouter)(),Q=(0,v.useCallback)(function(){return P.push(P.asPath+"/"+d[c[0]][n])},[P,d,c,n]),aa=function(){K([]),ac(!0,"error","An error has occured while trying to delete.")},ab=function(){$(L.filter(function(a){return!c.includes(a.id)})),K([]),ac(!0,"success","Successfully deleted.")},R=(O=(0,o.Z)(s().mark(function a(){var b;return s().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,X(c);case 2:if(!(b=a.sent)){a.next=5;break}return a.abrupt("return",ab());case 5:return a.abrupt("return",aa());case 6:case"end":return a.stop()}},a)})),function(){return O.apply(this,arguments)}),S=(0,v.useCallback)(function(a,b){return D?D(a):b.filter(function(b){return Object.keys(b).some(function(c){return String(b[c]).toLowerCase().includes(a.toLowerCase())||b[c]&&"object"==typeof b[c]&&Object.keys(b[c]).some(function(d){return String(b[c][d]).toLowerCase().includes(a.toLowerCase())})||"technologies"===c&&(0,p.Z)(b[c],Array)&&b[c].some(function(b){return b.name&&b.name.toLowerCase().includes(a.toLowerCase())})})})},[D]),U=(0,v.useCallback)(function(a){Z(a);var b=S(a,M);$(function(){return""===a?d:b})},[M,d,S]),ac=function(a,b,c){return _((0,r.Z)((0,q.Z)({},N),{open:a,severity:b,message:c}))};(0,v.useEffect)(function(){(null==c?void 0:c.length)>0?Y(!0):Y(!1)},[c]);var V=(null==c?void 0:c.length)===1&&C?Q:null,W=b?{pagination:{onPageChange:function(c,a){return null==b?void 0:b.onPageChange(a)},nextIconButtonProps:{disabled:(null==b?void 0:b.page)===(null==b?void 0:b.rowCount)-1},backIconButtonProps:{disabled:(null==b?void 0:b.page)===0}}}:{};return(0,t.jsx)(T,{data:L,height:w,width:x,loading:y,columns:j,checkboxSelection:A,showHeader:k,pageSize:m,filterValue:J,handleFilter:U,handleCellChange:l,headerAction:B,headerActionTitle:H,launch:V,selectionModel:c,selectedOpen:I,snackbar:N,setSelectionModel:K,handleClose:function(){return K([])},deleteAction:R,tableDensity:z,headerButton:E,disableColumnMenu:F,noRowsLabel:G,serverSideMode:b,pagination:W})};i.propTypes={loading:c.PropTypes.bool,data:c.PropTypes.array.isRequired,handleCellChange:c.PropTypes.func,pageSize:c.PropTypes.number,columns:c.PropTypes.array.isRequired,urlPath:c.PropTypes.string,headerActionTitle:c.PropTypes.object,deleteData:c.PropTypes.func,height:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.number]),width:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.number]),checkboxSelection:c.PropTypes.bool,tableDensity:c.PropTypes.string,headerButton:c.PropTypes.object,disableColumnMenu:c.PropTypes.bool,noRowsLabel:c.PropTypes.string},i.defaultProps={urlPath:"username",height:"70vh",width:"100%"}}}])