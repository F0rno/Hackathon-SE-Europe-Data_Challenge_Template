"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4703],{50656:function(d,b,a){a.d(b,{H:function(){return k}});var e=a(47568),f=a(26042),c=a(34051),g=a.n(c),h=a(8504),i=a(2781),j=function(a,i){var b,c,d,e,f,g,h=null===(b=a.data)|| void 0===b?void 0:null===(c=b.payload)|| void 0===c?void 0:c.teamId,j=(null===(d=a.data)|| void 0===d?void 0:d.invitationURL)||(null===(e=a.data)|| void 0===e?void 0:null===(f=e.payload)|| void 0===f?void 0:f.invitationURL)||(null===(g=a.data)|| void 0===g?void 0:g.payload);return h&&i(h),{status:a.status,msg:j,openGithubDialog:!0,templateURL:!0}},k=function(){var a,b,c=(0,h.C)(i.T).startChallenge,d=(a=(0,e.Z)(g().mark(function a(b){var d,e,h,i,k,l,m,n,o,p;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.setUserParticipant,e=b.templateURL,h=b.challengeURL,i=b.userEmail,k=b.userId,l=b.githubUsername,m=b.newTeam,a.next=3,c(h,{id:k,email:i,githubUsername:l},m);case 3:return n=a.sent,p=(o={201:e?function(a,b){return j(a,b)}:function(c,d){var a,b;return a=c,b=d,b(),{status:a.status,msg:"Felicidates, te acabas de empezar el reto !",openGithubDialog:!1,templateURL:!1}},400:e?function(b){var a;return a=b,{status:a.status,msg:"github session not found with templateUrl",openGithubDialog:!0,templateURL:!0}}:function(b){var a;return a=b,{status:a.status,msg:"github session not found without templateUrl",openGithubDialog:!0,templateURL:!1}},500:function(a){return(0,f.Z)({},a)}})[n.status](n,d),a.abrupt("return",p);case 7:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)});return{unregisteredInChallenge:(b=(0,e.Z)(g().mark(function a(b){var c,e,f,h,i,j,k,l;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.setUserParticipant,e=b.templateURL,f=b.challengeURL,h=b.userEmail,i=b.userId,j=b.githubUsername,k=b.newTeam,a.next=3,d({setUserParticipant:c,templateURL:e,challengeURL:f,userEmail:h,userId:i,githubUsername:j,newTeam:k});case 3:return l=a.sent,a.abrupt("return",l);case 5:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)})}}},4703:function(e,b,a){a.d(b,{k:function(){return O}});var f=a(47568),g=a(26042),h=a(69396),c=a(34051),i=a.n(c),j=a(85893),d=a(9669),k=a.n(d),l=a(67294),m=a(51410),n=a(50656),o=a(95986),p=a(83955),q=a(50594),r=a(50657),s=a(93946),t=a(99226),u=a(6514),v=a(50122),w=a(15861),x=function(c){var g=c.title,b=(c.label,c.data),d=b.avatarUrl,h=b.name,a=b.username,e=b.bio,f=(0,o.T)().translate;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w.Z,{style:{margin:"1rem 0rem",width:"90%"},variant:"h5",align:"center",children:g}),d&&(0,j.jsx)("img",{alt:"avatar",height:"150px",src:d,style:{borderRadius:"50%"}}),(0,j.jsx)(w.Z,{style:{marginTop:"1rem",width:"90%"},variant:"h6",align:"center",children:h}),a&&(0,j.jsx)(v.Z,{href:"https://github.com/"+a,color:"primary",align:"center",prefetch:!1,children:a}),e&&(0,j.jsx)(w.Z,{style:{margin:"1rem 0rem",width:"90%"},align:"center",children:e}),(0,j.jsx)("br",{}),(0,j.jsx)("hr",{style:{width:"100%"}}),(0,j.jsxs)(t.Z,{sx:{display:"flex",flexDirection:"column",p:6},children:[(0,j.jsx)("span",{children:f("github_account_1","challenge")}),(0,j.jsx)("br",{}),(0,j.jsx)("span",{children:f("github_account_2","challenge")}),(0,j.jsx)("br",{}),(0,j.jsx)(v.Z,{href:"https://github.com/"+a,color:"primary",align:"center",prefetch:!1,children:"github.com/"+a})]})]})},y=function(b){var c=b.title,a=b.steps,d=a.one,e=a.two,f=a.three;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w.Z,{style:{margin:"1rem 0rem",width:"90%"},variant:"h4",align:"center",children:c}),(0,j.jsx)("div",{style:{margin:"10px 0px"},children:(0,j.jsx)("img",{alt:"GitHub logo",src:"/dev/images/octocat-logo.svg"})}),(0,j.jsxs)("ol",{children:[(0,j.jsx)("li",{children:d}),(0,j.jsx)("li",{style:{marginTop:20},children:e}),(0,j.jsx)("li",{style:{marginTop:20},children:f})]})]})},z=a(11057),A=function(a){var c=a.title,b=a.invitationURL,d=a.steps,g=a.onClose,e=a.showCloseButton,f=d.one;return(0,j.jsx)(t.Z,{style:{display:"grid",placeItems:"center"},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w.Z,{style:{margin:"1rem 0rem",width:"90%"},variant:"h4",align:"center",children:c}),(0,j.jsx)("p",{children:f}),(0,j.jsx)(v.Z,{href:b,target:"_blank",rel:"noopener noreferrer",color:"primary",style:{margin:"10px 0px",paddingBottom:30},prefetch:!1,children:b}),(0,j.jsx)(o.Z,{ns:"challenge",text:"repo_title"}),(0,j.jsxs)(t.Z,{sx:{display:"flex",flexDirection:"column",pl:10,pr:10,mt:5},children:[(0,j.jsx)("span",{children:(0,j.jsx)(o.Z,{ns:"challenge",text:"repo_step_1"})}),(0,j.jsx)("span",{children:(0,j.jsx)(o.Z,{ns:"challenge",text:"repo_step_2"})}),(0,j.jsx)("span",{children:(0,j.jsx)(o.Z,{ns:"challenge",text:"repo_step_3"})}),(0,j.jsx)("span",{children:(0,j.jsx)(o.Z,{ns:"challenge",text:"repo_step_4"})}),(0,j.jsx)("span",{children:(0,j.jsx)(o.Z,{ns:"challenge",text:"repo_step_5"})}),(0,j.jsx)("span",{style:{marginTop:20},children:(0,j.jsx)(o.Z,{ns:"challenge",text:"repo_remember"})})]}),e&&(0,j.jsx)(z.Z,{variant:"contained",size:"small",sx:{mt:10},onClick:function(){return g()},children:(0,j.jsx)(o.Z,{ns:"challenge",text:"template_dialog_close_button"})})]})})},B=a(25449),C=a(94054),D=a(87109),E=a(57709),F=function(a){var c=a.title,d=a.label,e=a.username,f=a.setUsername,b=(0,o.T)().translate;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w.Z,{style:{margin:"1rem 0rem",width:"90%"},variant:"h5",align:"center",children:c}),(0,j.jsx)(w.Z,{style:{margin:"1rem 0rem"},children:d}),(0,j.jsx)(C.Z,{variant:"outlined",sx:{width:"100%",mt:2},children:(0,j.jsx)(E.Z,{value:e,onChange:function(a){return f(a.target.value)},fullWidth:!0,placeholder:"GitHub username",startAdornment:(0,j.jsx)(D.Z,{position:"start",children:(0,j.jsx)(B.Z,{})})})}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",marginTop:30},children:[(0,j.jsxs)(w.Z,{variant:"subtitle2",align:"center",children:["- ",b("new_on_github","challenge")," -"]}),(0,j.jsx)(v.Z,{href:"https://github.com/signup",target:"_blank",rel:"noopener",style:{marginTop:15},prefetch:!1,children:b("github_signup_link","challenge")})]})]})},G=function(b){var d=b.invitationURL,e=b.activeStep,g=b.username,h=b.setUsername,c=b.githubUser,i=b.onClose,f=b.newTeam,a=(0,o.T)().translate;return(0,j.jsxs)(u.Z,{children:[!d&&(0,j.jsxs)(t.Z,{style:{display:"grid",placeItems:"center"},children:[0===e&&(0,j.jsx)(y,{title:a("template_dialog_intro_title","challenge"),steps:{one:a(f?"template_dialog_team_step_1":"template_dialog_intro_step_1","challenge"),two:a(f?"template_dialog_team_step_2":"template_dialog_intro_step_2","challenge"),three:a(f?"template_dialog_team_step_3":"template_dialog_intro_step_3","challenge")}}),1===e&&(0,j.jsx)(F,{title:a("template_dialog_github_title","challenge"),label:a("template_dialog_github_label","challenge"),setUsername:h,username:g}),c&&2===e&&(0,j.jsx)(x,{title:a("template_dialog_github_title","challenge"),label:a("template_dialog_github_confirm","challenge"),data:{avatarUrl:c.avatar_url,name:c.name,username:c.login,bio:c.bio}})]}),d&&"loading"!==d&&3===e&&(0,j.jsx)(A,{title:a("template_dialog_success_title","challenge"),invitationURL:d,steps:{one:a("template_dialog_success_step_1","challenge"),two:a(f?"template_dialog_team_success_step_2":"template_dialog_success_step_2","challenge")},onClose:i})]})},H=a(82783),I=a(23705),J=function(a){var d=a.showWarningDialog,e=a.newTeam,f=a.isTeamChallenge,b=a.disabled,c=(0,o.T)().translate;return(0,j.jsx)(z.Z,{style:{minWidth:110,marginLeft:10},size:"small",color:"secondary",variant:"contained",disabled:b,onClick:function(){return d({title:c("are_you_sure","challenge"),text:"".concat(c("steps_message","challenge"),", ").concat(f?e?c("team_not_created","challenge"):c("no_collab","challenge"):c("individual_exit","challenge"),".")})},children:c("template_dialog_cancel_button","challenge")})},K=function(a){var b=a.isLoading,c=a.activeStep,i=a.githubUser,u=a.getGitHubUser,k=a.invitationURL,v=a.handleCloseDialog,m=a.handleBack,n=a.handleNext,f=a.handleShowWarningDialog,g=a.newTeam,h=a.isTeamChallenge,p=a.handleShowGitHubWarning,d=(0,o.T)().translate,e={next:d("template_dialog_next_button","challenge"),confirm:d("template_dialog_confirm_button","challenge"),close:d("template_dialog_close_button","challenge"),back:d("template_dialog_back_button","challenge"),verify:d("template_dialog_verify_button","challenge")},q=e.next,r=e.confirm,s=e.close,t=e.back,l=e.verify;return(0,j.jsx)(H.Z,{variant:"dots",steps:4,position:"static",activeStep:c,sx:{maxWidth:"100%",flexGrow:1,margin:"1rem",backgroundColor:"transparent"},nextButton:!i&&1===c&&(0,j.jsxs)("div",{children:[(0,j.jsx)(I.l,{style:{minWidth:110},size:"small",onClick:function(){return u()},loading:b,children:l}),(0,j.jsx)(J,{showWarningDialog:f,newTeam:g,isTeamChallenge:h,disabled:b})]})||i&&2===c&&(0,j.jsxs)("div",{children:[(0,j.jsx)(I.l,{style:{minWidth:110},size:"small",onClick:p,loading:b,children:r}),(0,j.jsx)(J,{showWarningDialog:f,newTeam:g,isTeamChallenge:h,disabled:b})]})||k&&"loading"!==k&&3===c&&(0,j.jsx)(z.Z,{size:"small",variant:"contained",style:{minWidth:110},onClick:function(){return v()},children:s})||(0,j.jsxs)("div",{children:[(0,j.jsx)(I.l,{style:{minWidth:110},size:"small",onClick:n,loading:b,children:1===c?l:q}),(0,j.jsx)(J,{showWarningDialog:f,newTeam:g,isTeamChallenge:h,disabled:b})]}),backButton:(0,j.jsx)(z.Z,{size:"small",variant:"outlined",color:"secondary",sx:{minWidth:110},onClick:m,disabled:0===c||3===c||b,children:t})})},L=function(a){var g=a.open,h=a.onClose,b=a.invitationURL,i=a.githubUsername,k=a.username,l=a.setUsername,m=a.getGitHubUser,c=a.githubUser,n=a.handleFinalStep,d=a.isLoading,e=a.activeStep,p=a.handleNext,t=a.handleBack,u=a.handleCloseDialog,v=a.handleShowWarningDialog,f=a.newTeam,w=a.isTeamChallenge,x=a.handleShowGitHubWarning,y=(0,o.T)().translate;return(0,j.jsxs)(r.Z,{open:g,children:[(0,j.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",padding:"10px 10px 0px 0px"},children:(0,j.jsx)(s.Z,{"aria-label":"close",disabled:d,onClick:function(){return b&&"loading"!==b&&3===e?u():v({title:y("are_you_sure","challenge"),text:"".concat(y("steps_message","challenge"),", ").concat(w?f?y("team_not_created","challenge"):y("no_collab","challenge"):y("individual_exit","challenge"),".")})},children:(0,j.jsx)(q.Z,{})})}),(0,j.jsx)(G,{invitationURL:b,activeStep:e,githubUser:c,username:k,setUsername:l,githubUsername:i,onClose:h,newTeam:f}),(0,j.jsx)(K,{isLoading:d,invitationURL:b,activeStep:e,githubUser:c,getGitHubUser:m,handleFinalStep:n,handleCloseDialog:u,handleBack:t,handleNext:p,handleShowWarningDialog:v,newTeam:f,isTeamChallenge:w,handleShowGitHubWarning:x})]})},M=a(14074),N=a(40288),O=function(a){var u,v,w=a.open,x=a.onClose,y=a.invitationURL,P=a.challengeURL,Q=a.templateURL,R=a.handleStartChallenge,S=a.nextStep,z=a.newTeam,T=a.projectId,U=a.inviteCollaborator,V=a.handleCollaboratorStatus,A=a.isTeamChallenge,b=(0,p.n)().user,W=(0,M.t)(N.w).updateUserById,X=(0,n.H)().unregisteredInChallenge,Y=(0,o.T)().translate,c=(0,l.useMemo)(function(){return null==b?void 0:b.githubUsername},[null==b?void 0:b.githubUsername]),d=(0,l.useState)(c||""),B=d[0],C=d[1],e=(0,l.useState)(null),D=e[0],E=e[1],q=(0,l.useState)(!1),F=q[0],Z=q[1],r=(0,l.useState)(y),G=r[0],$=r[1],s=(0,l.useState)(!1),H=s[0],_=s[1],t=(0,l.useState)(0),I=t[0],aa=t[1],J=function(){return aa(function(a){return a+1})},K=(u=(0,f.Z)(i().mark(function a(b){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:_(!0),k().get("https://api.github.com/users/"+(b||B)).then(function(a){E(a.data),b||(_(!1),J())}).catch(function(a){"Not Found"===a.response.data.message&&(0,m.Hz)((0,h.Z)((0,g.Z)({},m.Oq),{text:Y("github_user_not_found","teams")})),Z(!0),_(!1)});case 2:case"end":return a.stop()}},a)})),function(a){return u.apply(this,arguments)}),ab=function(){_(!1),(0,m.Hz)((0,h.Z)((0,g.Z)({},m.Oq),{text:Y("error_try_again","teams")}))},O=(v=(0,f.Z)(i().mark(function a(){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(_(!0),!(!c||(null==D?void 0:D.login)&&(null==D?void 0:D.login)!==c)){a.next=4;break}return a.next=4,W(null==b?void 0:b.id,{githubUsername:null==D?void 0:D.login});case 4:if(!(z||!A)){a.next=9;break}return a.next=7,X({setUserParticipant:R,templateURL:Q,challengeURL:P,userEmail:null==b?void 0:b.email,userId:null==b?void 0:b._id,githubUsername:c||D&&D.login,newTeam:z}).then(function(a){$(a.msg),_(!1),J()}).catch(function(){return ab()});case 7:a.next=13;break;case 9:return a.next=11,U({username:c||D&&D.login,projectId:T}).then(function(a){$(a.data.invitationURL),V()});case 11:_(!1),J();case 13:case"end":return a.stop()}},a)})),function(){return v.apply(this,arguments)});return(0,j.jsx)(L,{invitationURL:G,open:w,onClose:x,githubUsername:c,username:B,setUsername:C,getGitHubUser:K,setGithubUser:E,githubUser:D,error:F,handleFinalStep:O,isLoading:H,activeStep:I,handleNext:J,handleBack:function(){return aa(function(a){return a-1})},handleCloseDialog:function(){A||R(),x(),(z||!A)&&(E(null),S(),(0,m.D0)((0,h.Z)((0,g.Z)({},m.IX),{title:Y("congratulations","challenge"),text:Y("successfully_started","challenge")})))},handleShowWarningDialog:function(a){var b=a.title,c=a.text;return(0,m.mA)((0,h.Z)((0,g.Z)({},m.F2),{title:b,text:c,confirmButtonText:Y("team_warning_goback","challenge"),cancelButtonText:Y("team_warning_ok","challenge")}),{actionConfirm:function(){return null},cancelActionConfirm:function(){return x()}})},newTeam:z,isTeamChallenge:A,handleShowGitHubWarning:function(){(0,m.mA)((0,h.Z)((0,g.Z)({},m.F2),{title:Y("are_you_sure","challenge"),text:Y("github_account_3","challenge"),confirmButtonText:Y("github_warning_ok","challenge"),cancelButtonText:Y("team_warning_goback","challenge")}),{actionConfirm:function(){return O()},cancelActionConfirm:function(){return null}})}})}}}])