"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3055],{23641:function(f,b,a){a.d(b,{f:function(){return g},U:function(){return p}});var c=a(67294),g=(0,c.createContext)(null),h=a(26042),i=a(69396),j=a(85893),k=a(29815),l={challenge:{},challenges:null,status:"",loading:!0,error:!1,showParticipantsTable:!1,user:{},openSurvey:!1,projectId:"",collaboratorStatus:"",surveys:[],policies:null,showTermsDialog:!1},m=function(a){var b=function(b,c){return a({type:b,payload:c})};return{setChallengeData:function(a){return b("SET_CHALLENGE_DATA",a)},setInitChallenge:function(a){return b("INIT_CHALLENGE",a)},setChallengeUser:function(a){return b("SET_CHALLENGE_USER",a)},setChallengeLoading:function(a){return b("SET_CHALLENGE_LOADING",a)},setStatus:function(a){return b("SET_STATUS",a)},setChallengeUserParticipation:function(a){return b("SET_CHALLENGE_USER_PARTICIPATION",a)},setChallengeUserSubmit:function(a){return b("SET_CHALLENGE_USER_SUBMIT",a)},setOpenSurvey:function(a){return b("SET_OPEN_SURVEY",a)},setProjectId:function(a){return b("SET_PROJECT_ID",a)},setCollaboratorStatus:function(a){return b("SET_COLLABORATOR_STATUS",a)},setSurveys:function(a){return b("SET_SURVEYS",a)},setShowTermsDialog:function(a){return b("SET_SHOW_TERMS_DIALOG",a)},setPolicies:function(a){return b("SET_POLICIES",a)}}},n=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0,d=c.type,b=c.payload;switch(d){case"INIT_CHALLENGE":return(0,i.Z)((0,h.Z)({},a),{challenge:b,loading:!1});case"LOADING_DATA":return(0,i.Z)((0,h.Z)({},a),{loading:!0});case"SET_STATUS":return(0,i.Z)((0,h.Z)({},a),{status:b});case"SET_CHALLENGE_DATA":return(0,i.Z)((0,h.Z)({},a),{challenge:(0,h.Z)({},a.challenge,b)});case"SET_CHALLENGE_LOADING":return(0,i.Z)((0,h.Z)({},a),{loading:b});case"SET_CHALLENGE_ERROR":return(0,i.Z)((0,h.Z)({},a),{error:b});case"SHOW_PARTICIPANTS":return(0,i.Z)((0,h.Z)({},a),{showParticipantsTable:b});case"SET_CHALLENGE_USER":return(0,i.Z)((0,h.Z)({},a),{user:(0,h.Z)({},a.user,b)});case"SET_CHALLENGE_USER_PARTICIPATION":return(0,i.Z)((0,h.Z)({},a),{challenge:(0,i.Z)((0,h.Z)({},a.challenge),{participants:(0,k.Z)(a.challenge.participants).concat([b])})});case"SET_CHALLENGE_USER_SUBMIT":return(0,i.Z)((0,h.Z)({},a),{challenge:(0,i.Z)((0,h.Z)({},a.challenge),{participants:a.challenge.participants.map(function(c){return c.id===b.userId?(0,i.Z)((0,h.Z)({},c),{submitted:!0,evaluated:!!a.challenge.templateURL}):c})})});case"SET_OPEN_SURVEY":return(0,i.Z)((0,h.Z)({},a),{openSurvey:b});case"SET_PROJECT_ID":return(0,i.Z)((0,h.Z)({},a),{projectId:b});case"SET_COLLABORATOR_STATUS":return(0,i.Z)((0,h.Z)({},a),{collaboratorStatus:b});case"SET_SURVEYS":return(0,i.Z)((0,h.Z)({},a),{surveys:b});case"SET_SHOW_TERMS_DIALOG":return(0,i.Z)((0,h.Z)({},a),{showTermsDialog:b});case"SET_POLICIES":return(0,i.Z)((0,h.Z)({},a),{policies:b});default:return a}},d=a(8504),e=a(2781),o=(0,d.C)(e.T),p=function(d){var e=d.children,a=(0,c.useReducer)(n,l),f=a[0],b=a[1],k=m(b);return(0,j.jsx)(g.Provider,{value:(0,i.Z)((0,h.Z)({},f,o,k),{dispatch:b}),children:e})}},340:function(c,b,a){a.d(b,{L:function(){return f}});var d=a(67294),e=a(23641),f=function(){return(0,d.useContext)(e.f)}},13055:function(A,p,a){a.d(p,{tv:function(){return bd},D0:function(){return bl},fy:function(){return bB}});var B=a(26042),C=a(69396),d=a(85893),q=a(9669),D=a.n(q),E=a(67294),F=a(8100),G=a(340),H=a(26387),I=a(40443),r=a(2544),s=a(4709),J=a(86886),K=a(18979),c=a(45697),b=a.n(c),L=a(93619),M=a(46901),N=a(92401),e=a(99226),O=a(11057),P=a(95986),t=a(11163),Q=a.n(t),u=a(66242),R=a(62023),S=a(44267),g=a(15861),T=a(5824),U=a(61983),V=function(a){var b=a.hideIfBusinessPreview,c=a.showActionChallenge;return b||c?null:(0,d.jsx)(R.Z,{sx:{padding:0},children:(0,d.jsx)(M.Z,{variant:"filled",severity:"info",color:"success",sx:{width:"100%",borderRadius:0},children:(0,d.jsx)(P.Z,{ns:"challenge",text:"challenge_not_started"})})})},W=function(d,e,a){var b=a>=d,c=a>=e;return{started:b,ended:c,active:b&&!c}},k=function(m){var b,c,f,n,a=m.challenge,l=(0,T.X)().date,h=l.format,i=l.options,o=(0,t.useRouter)().query.preview,p=(null==a?void 0:null===(b=a.from)|| void 0===b?void 0:b.type)==="trainning-camp",j=(null==a?void 0:a.startTime)&&new Date(null==a?void 0:a.startTime).toLocaleTimeString(h,i),k=p?(null==a?void 0:a.eventEndTime)&&new Date(null==a?void 0:a.eventEndTime).toLocaleTimeString(h,i):(null==a?void 0:a.endTime)&&new Date(null==a?void 0:a.endTime).toLocaleTimeString(h,i),q=W(new Date(a.startTime).getTime(),new Date(a.endTime).getTime(),new Date().getTime()),r=(null==a?void 0:null===(c=a.level)|| void 0===c?void 0:c.length)>0?null==a?void 0:null===(f=a.level)|| void 0===f?void 0:f.join(", "):null==a?void 0:a.level;return(0,d.jsxs)(u.Z,{sx:{position:"relative",width:"100%",height:"100%",minHeight:"283"},children:[(0,d.jsx)(U.o,{src:null==a?void 0:a.imageURL,alt:null==a?void 0:a.title,size:"1380px"}),(0,d.jsxs)(S.Z,{sx:{position:"relative",background:"linear-gradient(to right, #0E0F16, #1B1D2900)"},children:[(0,d.jsx)(g.Z,{color:"white",variant:"h2",children:null==a?void 0:a.title}),(0,d.jsxs)(e.Z,{sx:{display:"flex",marginTop:"20px",gap:"20px"},children:[(0,d.jsxs)(e.Z,{style:{marginBottom:"1rem"},children:[(0,d.jsx)(g.Z,{color:"white",variant:"h4",children:(0,d.jsx)(P.Z,{ns:"challenge",text:"when"})}),j&&k&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(g.Z,{color:"white",variant:"body2",children:[(0,d.jsx)(P.Z,{ns:"event",text:"from_date"}),":"," ",j.charAt(0).toUpperCase()+j.slice(1)]}),(0,d.jsxs)(g.Z,{color:"white",variant:"body2",children:[(0,d.jsx)(P.Z,{ns:"event",text:"to_date"}),":"," ",k.charAt(0).toUpperCase()+k.slice(1)]})]})]}),(0,d.jsxs)(e.Z,{style:{marginBottom:"1rem"},children:[(0,d.jsx)(g.Z,{color:"white",variant:"h4",children:(0,d.jsx)(P.Z,{ns:"challenge",text:"categories"})}),(0,d.jsx)(g.Z,{color:"white",variant:"body2",children:(n=[null==a?void 0:a.subCategory]).map(function(a){return" ".concat(a,"  ")})})]}),(0,d.jsxs)(e.Z,{style:{marginBottom:"1rem"},children:[(0,d.jsx)(g.Z,{color:"white",variant:"h4",children:(0,d.jsx)(P.Z,{ns:"challenge",text:"level"})}),(0,d.jsx)(g.Z,{color:"white",variant:"body2",children:r})]})]}),(0,d.jsx)(V,{showActionChallenge:q.started,hideIfBusinessPreview:"business"===o})]})]})};k.propTypes={userParticipation:c.PropTypes.object,challenge:c.PropTypes.object,user:c.PropTypes.object,status:c.PropTypes.string,loading:c.PropTypes.bool,actions:c.PropTypes.object},k.defaultProps={user:{},challenge:{}};var X=a(83287),Y=a(35772),Z=function(b){var g,h,k=b.userParticipation,a=b.challenge,m=b.user,n=b.setChallengeUserSubmit,o=b.handlerControledStep,p=b.teamId,q=b.projectId,i=b.isFromScoreSection,l=(0,E.useState)(!1),r=l[0],s=l[1],f=(0,P.T)().translate,t=null==k?void 0:k.submitted,j=null==a?void 0:a.templateURL,u=null==a?void 0:null===(g=a.from)|| void 0===g?void 0:g.id,v=(null==a?void 0:null===(h=a.from)|| void 0===h?void 0:h.type)==="trainning-camp",w=v&&new Date(null==a?void 0:a.eventEndTime)<new Date||u&&new Date(null==a?void 0:a.endTime)<new Date||!(null==a?void 0:a.active),x=function(a){s(!0)},c={unsubmitted:{color:i?"secondary":"primary",action:function(a){return x(a)},text:f(i?"resubmit_solution":"submit_solution","challenge"),alert:""},submitted:{color:j?"secondary":"success",action:function(a){return a&&x(a)},text:f(j?"resubmit_solution":"submited_success","challenge"),alert:!j&&f("submited_success","challenge")},finished:{color:"error",alert:f("challenge_finished","challenge"),action:null,text:f("challenge_finished","challenge")}},e=w?"finished":t?"submitted":"unsubmitted";return(0,d.jsxs)(E.Fragment,{children:[c[e].action&&(0,d.jsx)(X.Z,{onClick:function(){return c[e].action?c[e].action(j):null},color:c[e].color,variant:"contained",size:"large",children:c[e].text}),!c[e].action&&(0,d.jsx)(M.Z,{severity:c[e].color,children:c[e].alert}),c[e].action&&(0,d.jsx)(Y.H,{setSendSolution:s,challenge:a,user:m,open:r,setChallengeUserSubmit:n,handlerControledStep:o,teamId:p,projectId:q,isFromScoreSection:i})]})},$=a(51410),_=function(a){var b=a.userParticipation,h=(a.username,a.getUserProjectId),i=a.getTeamProjectId,j=a.setProjectId,k=a.challengeId,f=a.projectId,l=(0,t.useRouter)(),e=(0,P.T)().translate,m=e("in_review","challenge"),n=e("solution_is_on_review","challenge"),g=b.submitted&&!b.evaluated,c=b.submitted&&b.evaluated,o=function(a,b){404!==a&&j(b)};return(0,E.useEffect)(function(){b&&!f&&c&&(b.teamId&&i(k,b.teamId).then(function(a){o(a.status,a.data.id)}),b.id&&!b.teamId&&h(k,b.id).then(function(a){o(a.status,a.data.id)}))},[b,c,f]),(0,d.jsx)(E.Fragment,{children:(0,d.jsxs)(X.Z,{onClick:c?function(){return l.push("/report/".concat(f))}:function(){(0,$.ai)((0,C.Z)((0,B.Z)({},$.RQ),{title:m,text:n}))},variant:"contained",color:c?"primary":"warning",children:[g&&!c&&(0,d.jsx)(P.Z,{ns:"challenge",text:"action_in_review"}),c&&(0,d.jsx)(P.Z,{ns:"challenge",text:"action_view_report"})]})})},aa=a(47568),v=a(34051),ab=a.n(v),ac=a(98456),w=a(42474),ad=a.n(w),ae=a(74931),af=function(b,c){var a=ad().createHash("sha1");return a.update(b+c),a.digest("hex").slice(0,24).toString()},ag=function(a){var g,j=a.userName,k=a.challengeTitle,b=(0,E.useState)(function(){return!1}),h=b[0],l=b[1],c=(0,E.useState)(function(){return!1}),i=c[0],m=c[1],n=(0,r.Y)(s.D).getCertificate,o=(0,P.T)().translate,f=(g=(0,aa.Z)(ab().mark(function a(){var b,c,d,e,f,g,h,p,q;return ab().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(l(!0),0!==j.length){a.next=5;break}b=o("no_user_name_set","profile"),ae.ZP.error(b),m(!0),a.next=37;break;case 5:if(!k){a.next=36;break}return c=af(j,k),a.next=9,n(c,k,j);case 9:if(!(200===(d=a.sent).status&&"Certificate generated"===d.data.msg&&d.data.certificateUrl)){a.next=33;break}return a.prev=11,a.next=14,fetch(d.data.certificateUrl);case 14:return e=a.sent,f=d.data.certificateUrl.split("/").pop().split("?")[0],a.next=18,e.blob();case 18:g=a.sent,h=URL.createObjectURL(g),(p=document.createElement("a")).href=h,p.download=f,p.click(),URL.revokeObjectURL(h),i&&m(!1),a.next=31;break;case 28:a.prev=28,a.t0=a.catch(11),m(!0);case 31:a.next=34;break;case 33:m(!0);case 34:a.next=37;break;case 36:q=o("no_challenge_title_found","challenge"),ae.ZP.error(q),m(!0);case 37:l(!1);case 38:case"end":return a.stop()}},a,null,[[11,28]])})),function(){return g.apply(this,arguments)});return h?(0,d.jsxs)(O.Z,{variant:"contained",disabled:!0,children:[(0,d.jsx)(P.Z,{ns:"challenge",text:"generating_certificate"}),(0,d.jsx)(ac.Z,{size:20,sx:{ml:4}})]}):i?(0,d.jsxs)(e.Z,{sx:{color:"error.main"},children:[(0,d.jsx)(P.Z,{ns:"challenge",text:"error_generating_certificate"}),(0,d.jsx)(O.Z,{variant:"contained",onClick:f,sx:{ml:4},color:"warning",children:(0,d.jsx)(P.Z,{ns:"challenge",text:"retry"})})]}):(0,d.jsx)(O.Z,{variant:"contained",onClick:f,children:(0,d.jsx)(P.Z,{ns:"challenge",text:"download_certificate"})})},ah=function(a){var c=a.userParticipation,f=a.stepIndex,h=a.username,i=a.userName,j=a.challengeTitle,k=a.getUserProjectId,l=a.getTeamProjectId,m=a.setProjectId,n=a.challengeId,b=a.projectId,o=a.isTemplate,p=a.setChallengeUserSubmit,q=a.user,r=a.challenge,s=a.handlerControledStep;return(0,d.jsxs)(J.ZP,{sx:{margin:"1rem 0rem"},container:!0,spacing:0,children:[(0,d.jsx)(J.ZP,{sx:{display:"grid",placeItems:"center"},item:!0,xs:12,children:(0,d.jsx)(e.Z,{sx:{width:"100%",display:"grid",placeItems:"center"},children:(0,d.jsxs)(g.Z,{align:"center",variant:"h3",children:["".concat(f,". "),(0,d.jsx)(P.Z,{ns:"challenge",text:"my_score"})]})})}),(0,d.jsxs)(J.ZP,{item:!0,xs:12,children:[(0,d.jsx)(e.Z,{style:{margin:"2rem 0rem",display:"grid",placeItems:"center"},children:(0,d.jsx)(g.Z,{style:{width:"70%"},align:"center",gutterBottom:!0,variant:"body2",children:(0,d.jsx)(P.Z,{ns:"challenge",text:"my_score_description"})})}),(0,d.jsx)(e.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,d.jsx)(_,{username:h,userParticipation:c,getTeamProjectId:l,setProjectId:m,projectId:b,challengeId:n,getUserProjectId:k})}),(0,d.jsx)(e.Z,{style:{margin:"2rem 0rem",display:"grid",placeItems:"center"},children:(0,d.jsx)(ag,{userName:i,challengeTitle:j})}),o&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("hr",{style:{width:"50%"}}),(0,d.jsx)(e.Z,{style:{margin:"2rem 0rem",display:"grid",placeItems:"center"},children:(0,d.jsx)(Z,{setChallengeUserSubmit:p,user:q,challenge:r,handlerControledStep:s,projectId:b,isFromScoreSection:!0})})]})]})]})},ai=a(99534),aj=function(b){var a=b.url;return a?(0,d.jsx)("iframe",{width:"100%",height:"100%",src:"https://www.figma.com/embed?embed_host=astra&url="+a,allowFullScreen:!0,frameBorder:"0"}):null},h=function(a){var b=a.figmaURL,c=a.width,e=a.height;return(0,d.jsx)(u.Z,{sx:{display:"flex",marginTop:"30px"},children:(0,d.jsx)(S.Z,{sx:{padding:"0px !important",display:"flex",justifyContent:"center",width:c,height:e,overflow:"hidden"},children:(0,d.jsx)(aj,{url:b})})})},ak=h;h.propTypes={figmaURL:c.PropTypes.string,width:c.PropTypes.any,height:c.PropTypes.any,hidden:c.PropTypes.bool},h.defaultProps={figmaURL:"",width:"100%",height:"100%",hidden:!1};var al=a(44796),am=a(50657),an=a(6514),ao=a(16908),ap=a(68901),aq=(0,r.Y)(s.D).checkChallengeF1Score,ar=function(a){var b=a.open,c=a.close,f=a.msg,h=a.result;return(0,d.jsx)(am.Z,{open:b,children:(0,d.jsxs)(an.Z,{children:[(0,d.jsx)(g.Z,{align:"center",variant:"h5",children:f}),(0,d.jsx)(g.Z,{style:{margin:"1rem 0rem"},align:"center",variant:"h3",children:h}),(0,d.jsx)(e.Z,{style:{display:"grid",placeItems:"center"},children:(0,d.jsx)(O.Z,{variant:"contained",size:"large",onClick:c,children:"GOT IT"})})]})})},as=function(i){var j=i.challengeId,f=(0,E.useState)({isDragActive:n,data:!1,isLoading:!1,error:!1}),a=f[0],q=f[1],h=(0,E.useState)({open:!1,msg:"",result:!1}),b=h[0],r=h[1],k=(0,E.useCallback)(function(a){if("application/json"!=a[0].type)return q(function(a){return(0,C.Z)((0,B.Z)({},a),{isLoading:!1,data:!1,error:"The file you're trying to upload is not a JSON file"})});a.forEach(function(b){var a=new FileReader;a.onload=(0,aa.Z)(ab().mark(function b(){var c,d,e,f;return ab().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(c=a.result,q(function(a){return(0,C.Z)((0,B.Z)({},a),{data:c,isLoading:!0,error:!1})}),!(d=JSON.parse(c)).hasOwnProperty("target")){b.next=13;break}return e={challengeId:j,predicted:(0,B.Z)({},d.target)},b.next=7,aq(e);case 7:if(!(f=b.sent).ok){b.next=11;break}return q(function(a){return(0,C.Z)((0,B.Z)({},a),{data:!1,isLoading:!1,error:!1})}),b.abrupt("return",r(function(){return{open:!0,msg:"Your F1-score is...",result:f.data.score}}));case 11:return q(function(a){return(0,C.Z)((0,B.Z)({},a),{data:!1,isLoading:!1,error:!1})}),b.abrupt("return",r(function(){return{open:!0,msg:(null==f?void 0:f.error)||"Something went wrong",result:0}}));case 13:return b.abrupt("return",q(function(a){return(0,C.Z)((0,B.Z)({},a),{data:!1,isLoading:!1,error:"The JSON file you uploaded is not valid. It should have a target property"})}));case 14:case"end":return b.stop()}},b)})),a.readAsText(b)})},[j]),c=(0,ap.uI)({multiple:!1,onDrop:k}),l=c.getRootProps,m=c.getInputProps,n=c.isDragActive,o=n||a.data?"#5EBF0D":"#3A3541",p=!!a.error;return(0,d.jsxs)(E.Fragment,{children:[(0,d.jsxs)(e.Z,(0,C.Z)((0,B.Z)({sx:{border:"1px solid ".concat(p?"red":o),borderStyle:"dashed",width:"80%",padding:"1rem",display:"flex",justifyContent:"center",alignItems:"center",flexFlow:"column",pointerEvents:a.isLoading?"none":b.open?"none":"inherit"}},l()),{children:[(0,d.jsx)("input",(0,B.Z)({},m())),(0,d.jsx)(g.Z,{variant:"h5",children:"F1-score drag and drop"}),(0,d.jsx)(ao.Z,{style:{fontSize:"4rem",margin:"10px 0px"}}),!a.data&&!a.error&&(0,d.jsx)(g.Z,{variant:"body1",children:"Check your F1-score by dropping your JSON file here"}),!a.data&&a.error&&(0,d.jsx)(g.Z,{variant:"body1",color:"error",children:a.error}),a.isLoading&&(0,d.jsxs)(g.Z,{style:{display:"flex",justifyContent:"center",alignItems:"center"},variant:"body1",children:["Checking ",(0,d.jsx)(ac.Z,{style:{margin:"0px 7px"},size:20})]})]})),(0,d.jsx)(ar,{open:b.open,result:b.result,close:function(){r(function(a){return(0,C.Z)((0,B.Z)({},a),{open:!1})})},msg:b.msg})]})},at=a(78445),au=a(34386),av=a(48678);a(31306),a(61810),a(40248);var aw,ax=a(23705),x=(a(31425),function(a){var e=a.cancelText,f=a.disabledText,g=a.accepText,b=a.disabled,c=a.loading,h=a.cancelAction,i=a.acceptAction;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ax.l,{variant:"outlined",disabled:c,onClick:h,children:e}),(0,d.jsx)(ax.l,{disabled:b,loading:c,onClick:i,children:b?f:g})]})});x.propTypes={disableUpload:b().bool,loading:b().bool,cancelText:b().string,disabledText:b().string,cancelAction:b().func,acceptAction:b().func};var ay=a(57922);(function(a){var c=a.message,e=a.severity,b=a.showAlert,f=a.setAlertState;return(0,d.jsx)(ay.Z,{style:{minHeight:"".concat(b&&50||0,"px")},in:b,children:(0,d.jsx)(M.Z,{variant:"outlined",severity:e,onClose:f,children:c})})}).propTypes={message:b().string.isRequired,severity:b().string.isRequired,showAlert:b().bool.isRequired,setAlertState:b().func.isRequired};var az=a(18972),aA=a(18360);(function(a){var c=a.array,e=a.value,f=a.onChange,h=a.title,b=a.titleVariant;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.Z,{variant:void 0===b?"body2":b,children:h}),(0,d.jsx)(aA.Z,{size:"small",variant:"outlined",margin:"dense",value:e,onChange:f,children:c.map(function(b,a){return(0,d.jsx)(az.Z,{value:a,children:b},a)})})]})}).propTypes={array:b().arrayOf(b().string).isRequired,value:b().number.isRequired,onChange:b().func.isRequired,title:b().string.isRequired,titleVariant:b().string};var aB=a(55113),aC=(0,a(66684).Z)(function(a){return{panel:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:5},title:{fontSize:"0.9rem"},divider:{fontSize:"2rem",marginRight:5},counter:{display:"flex",flexDirection:"column",alignItems:"center"},panels:{display:"flex",marginBottom:5},num:{fontSize:"2rem"},txt:{fontSize:"0.5rem"},paper:{border:0,backgroundColor:"transparent"}}}),aD=function(c){var e=c.label,a=c.n,b=aC();return(0,d.jsxs)("div",{className:b.panel,children:[(0,d.jsx)(g.Z,{variant:"body1",className:b.num,children:a<10?"0"+a:a}),(0,d.jsx)(g.Z,{className:b.txt,children:e})]})},aE=function(f){var a=f.timeLeft,b=aC(),c=(0,P.T)().translate,e={days:c("time_days","events"),hours:c("time_hours","events"),minutes:c("time_minutes","events")};return(0,d.jsx)(aB.Z,{className:b.paper,elevation:0,children:(0,d.jsx)("div",{className:b.counter,children:(0,d.jsxs)("div",{className:b.panels,children:[(0,d.jsx)(aD,{label:e.days,n:a.days>0?a.days:0}),(0,d.jsx)(g.Z,{variant:"body1",className:b.divider,children:":"}),(0,d.jsx)(aD,{label:e.hours,n:a.hours>0?a.hours:0}),(0,d.jsx)(g.Z,{variant:"body1",className:b.divider,children:":"}),(0,d.jsx)(aD,{label:e.minutes,n:a.minutes>0?a.minutes:0})]})})})},aF=function(a){var c=a.startDate,f=a.endDate,b=(0,E.useState)({days:0,hours:0,minutes:0}),e=b[0],g=b[1];return(0,E.useEffect)(function(){var a=setInterval(function(){var b=f?f.getTime():new Date().getTime(),a=(f||b)-c.getTime();g({days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4)})},1e3);return function(){return clearInterval(a)}},[c]),(0,d.jsx)(aE,{timeLeft:e})};a(63496),(function(a){a.fileError;var b=a.fileName,c=(a.setFileName,a.handleFileChange);return(0,d.jsx)("div",{children:(0,d.jsx)("input",{accept:"image/*",type:"file",id:"file-upload-".concat(b),onChange:c})})}).propTypes={fileError:b().string,fileName:b().string,setFileName:b().func,handleFileChange:b().func},a(24012),a(67105),a(19994),a(21797),a(1559);var y=a(41664),aG=a.n(y),aH=a(87952),aI=a(67720),i=a(90948),aJ=a(13224),aK=a(82896),aL=(0,i.ZP)(e.Z)(function(a){return{"& a":{color:a.theme.palette.text.primary,textDecoration:"none"}}}),aM=function(a){var b=a.users;return(0,d.jsxs)(u.Z,{children:[(0,d.jsx)(at.Z,{title:(0,d.jsx)(P.Z,{ns:"events",text:"top_ranking"}),action:(0,d.jsx)(aJ.Z,{})}),(0,d.jsx)(S.Z,{children:b.map(function(a,c){return(0,d.jsxs)(E.Fragment,{children:[(0,d.jsxs)(e.Z,{sx:{display:"flex",alignItems:"center",mb:c!==b.length-1?6.5:void 0},children:[(0,d.jsx)(aH.Z,{src:a.image,sx:{mr:3,width:38,height:38}}),(0,d.jsxs)(e.Z,{sx:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,d.jsxs)(e.Z,{sx:{mr:2,display:"flex",mb:.4,flexDirection:"column"},children:[(0,d.jsx)(aL,{children:(0,d.jsx)(aG(),{href:"/profile/".concat(a.username),prefetch:!1,children:a.username})}),(0,d.jsxs)(e.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsx)(aJ.Z,{sx:{mr:1.5,fontSize:"1rem",color:"text.secondary",verticalAlign:"middle"}}),(0,d.jsxs)(g.Z,{variant:"caption",children:[(0,d.jsx)(P.Z,{ns:"events",text:"position"})," - ",a.position]})]})]}),(0,d.jsx)(aK.Z,{skin:"light",size:"small",label:"".concat(a.rank," pts"),color:"primary",sx:{height:20,mt:.4,fontSize:"0.75rem",fontWeight:600}})]})]},a.title),3===a.position&&(0,d.jsx)(aI.Z,{style:{margin:"10px 0px"},sx:{mt:0,mb:1}})]},a.id)})})]})};(function(b){var a=b.data;return a?(0,d.jsx)(aM,{users:a}):(0,d.jsx)(K.Z,{variant:"rectangular",style:{borderRadius:"5px"},width:"100%",height:300})}).propTypes={data:b().array};var aN=a(30549),aO=a(83955),aP=function(){var b,c=(0,aO.n)().user,d=(0,G.L)().challenge,e=null==c?void 0:c.id,a=null==d?void 0:null===(b=d.participants)|| void 0===b?void 0:b.find(function(a){return a.id===e});return{startedAt:null==a?void 0:a.started,finishedAt:null==a?void 0:a.submitted}},aQ=function(a){var f=a.start,b=a.end,c=a.isEventChallenge,l=a.isActive,m=a.technologies,h=a.isTrainningCampChallenge,o=(0,av.Z)(),i=b&&new Date(b)<new Date,j=aP(),n=j.startedAt,k=j.finishedAt;return(0,d.jsxs)(e.Z,{sx:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",margin:"2rem 0rem",gap:"1.5rem"},children:[(0,d.jsxs)(u.Z,{style:{padding:"20px",height:"100%"},children:[(0,d.jsx)(g.Z,{align:"center",variant:"h5",children:"Suggested stack"}),(0,d.jsx)(e.Z,{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(60px, 1fr))",gap:"2rem",margin:"1rem 0rem"},children:m.map(function(a){return(0,d.jsx)(au.Z,{title:a.name,arrow:!0,children:(0,d.jsx)(u.Z,{style:{border:"2px solid ".concat(o.palette.background.default),background:o.palette.background.default,boxShadow:"0px 0px 0px"},children:(0,d.jsx)(S.Z,{style:{display:"grid",placeItems:"center",padding:"1rem",borderRadius:"5px",height:"100%"},children:(0,d.jsx)("img",{style:{width:"20px"},alt:a.name,src:"https://cdn.nuwe.io/technologies-api/"+a.files})})})},a.name)})})]}),(0,d.jsx)(e.Z,{children:(0,d.jsxs)(u.Z,{style:{height:"100%",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center"},children:[(0,d.jsx)(at.Z,{title:(0,d.jsx)(P.Z,{ns:"events",text:c?i?"finished_on_label":new Date(f)>new Date?"starts_at_label":c&&!h?"time_left_label":k?"solved_in":"elapsed_time_label":null==n?"starts_at_label":k?"time_counted_label":"time_counter_label"}),titleTypographyProps:{sx:{lineHeight:"2rem !important",letterSpacing:"0.15px !important",textAlign:"center"}}}),(0,d.jsx)(S.Z,{children:(0,d.jsx)(aR,{challengeIsFinished:i,isEventChallenge:c,isTrainningCampChallenge:h,isActive:l,end:b,start:f})})]})})]})},aR=function(b){var a,c,j=b.challengeIsFinished,h=b.isEventChallenge,m=b.isTrainningCampChallenge,k=b.isActive,i=b.end,f=b.start,l=aP(),g=l.startedAt,e=l.finishedAt,n=h&&new Date(f)>new Date,o=h&&new Date(f)<new Date&&new Date(i)>new Date;if(h||m&&new Date<new Date(i))a=new Date,c=new Date(n?f:o||j&&!k|| !j&&k?i:f);else if(null===g)a=new Date,c=new Date;else{if(null===e| !1===e|""===e)return a=new Date(g),(0,d.jsx)(aF,{startDate:a});if(!0!==e)return a=new Date(g),c=new Date(e),(0,d.jsx)(aF,{startDate:a,endDate:c});a=new Date,c=new Date(g)}return(0,d.jsx)(aN.I,{date1:a,date2:c})},aS=function(a){var f=a.start,h=a.end,i=a.isActive,j=a.isEventChallenge,b=a.isTrainningCampChallenge,k=a.started,l=a.description,m=a.technologies,n=a.userParticipation,o=a.challenge,p=a.user,q=a.stepIndex,r=a.setChallengeUserSubmit,s=a.teamId,t=a.projectId,c=(0,ai.Z)(a,["start","end","isActive","isEventChallenge","isTrainningCampChallenge","started","description","technologies","userParticipation","challenge","user","stepIndex","setChallengeUserSubmit","teamId","projectId"]);return(0,d.jsxs)(J.ZP,{sx:{margin:"1rem 0rem"},container:!0,spacing:0,children:[(0,d.jsx)(J.ZP,{sx:{display:"grid",placeItems:"center"},item:!0,xs:12,children:(0,d.jsxs)(e.Z,{sx:{width:"100%",display:"grid",placeItems:"center"},children:[(0,d.jsxs)(g.Z,{align:"center",variant:"h3",children:["".concat(q,". "),(0,d.jsx)(P.Z,{ns:"challenge",text:"solve_the_challenge"})]}),(0,d.jsx)(aQ,{start:f,end:h,isEventChallenge:j,isTrainningCampChallenge:b,isActive:i,technologies:m})]})}),(0,d.jsx)(aU,{started:k,setChallengeUserSubmit:r,user:p,challenge:o,userParticipation:n,handlerControledStep:null==c?void 0:c.handlerControledStep,description:l,teamId:s,projectId:t,isTrainningCampChallenge:b})]})},aT=function(a){var b=a.setChallengeUserSubmit,c=a.user,f=a.challenge,g=a.userParticipation,h=a.handlerControledStep,i=a.teamId,j=a.projectId;return(0,d.jsx)(J.ZP,{item:!0,xs:12,children:(0,d.jsx)(e.Z,{style:{margin:"2rem 0rem",display:"grid",placeItems:"center"},children:(0,d.jsx)(Z,{setChallengeUserSubmit:b,user:c,challenge:f,userParticipation:g,handlerControledStep:h,teamId:i,projectId:j})})})},aU=function(b){var l=b.started,f=b.setChallengeUserSubmit,h=b.user,a=b.challenge,c=b.userParticipation,i=b.handlerControledStep,m=b.description,j=b.teamId,k=b.projectId;return(b.isTrainningCampChallenge,l)?(0,d.jsxs)(d.Fragment,{children:[(c.isTeamLead||(null==a?void 0:a.type)==="Individual")&&(0,d.jsx)(aT,{setChallengeUserSubmit:f,user:h,challenge:a,userParticipation:c,handlerControledStep:i,teamId:j,projectId:k}),"Data Science"===a.subCategory&&!a.hideF1&&(0,d.jsx)(J.ZP,{style:{display:"grid",placeItems:"center"},item:!0,xs:12,children:(0,d.jsx)(as,{challengeId:a.id})}),(0,d.jsxs)(J.ZP,{style:{display:"grid",placeItems:"center"},item:!0,xs:12,children:[(0,d.jsx)(e.Z,{style:{margin:"2rem 0rem",width:"70%"},children:(0,d.jsx)(al.Z,{description:m})}),(c.isTeamLead||(null==a?void 0:a.type)==="Individual")&&(0,d.jsx)(aT,{setChallengeUserSubmit:f,user:h,challenge:a,userParticipation:c,handlerControledStep:i,teamId:j,projectId:k})]}),(0,d.jsx)(J.ZP,{item:!0,xs:12,children:(null==a?void 0:a.figmaURL)&&(0,d.jsx)(ak,{height:"60vh",figmaURL:null==a?void 0:a.figmaURL})})]}):(0,d.jsx)(J.ZP,{item:!0,xs:12,children:(0,d.jsx)(g.Z,{align:"center",variant:"body1",gutterBottom:!0,children:(0,d.jsx)(P.Z,{ns:"challenge",text:"solve_the_challenge_not_started"})})})},aV=a(29815),aW=a(40451),aX=a(4703),aY=a(49375),aZ=a(50656),a$="https://api.nuwe.io/",a_=function(a){var h,x,y,e=a.challenge,Z=a.setChallengeUserParticipation,z=a.userId,A=a.userEmail,F=a.isActive,G=a.userParticipation,H=a.status,I=a.end,J=a.isEventChallenge,K=a.handlerControledStep,f=(0,P.T)().translate,j=(0,E.useState)(!1),L=j[0],_=j[1],k=(0,E.useState)(!1),l=k[0],ac=k[1],m=(0,E.useState)(!1),N=m[0],ad=m[1],n=(0,E.useState)(null),O=n[0],ae=n[1],o=(0,E.useState)(!1),af=o[0],ag=o[1],p=(0,E.useState)(""),R=p[0],ah=p[1],q=(0,E.useState)(""),S=q[0],ai=q[1],r=(0,E.useState)(null),T=r[0],aj=r[1],s=(0,E.useState)({user:{id:""},from:{id:"",type:"event"},answers:[],type:"eventSignUpAnswers",lang:""}),U=s[0],ak=s[1],t=(0,E.useState)({open:!1,invitationURL:""}),u=t[0],al=t[1],ao=(0,aZ.H)().unregisteredInChallenge,V=function(){Z({id:z,started:new Date().toISOString(),submitted:!1,evaluated:!1})},v=function(a){if(a){var b,c=a.isNewUser,d=a.id,f=a.email,g=null==e?void 0:null===(b=e.from)|| void 0===b?void 0:b.id;if(c&&(ag(!0),ah(d),ai(f)),!g)return c?ap(d,f):ap();D().get("".concat(a$,"surveys/type/event-sign-up/event/").concat(g),{withCredentials:!0}).then(function(a){if(aj(a.data.surveys),!a.data.answersSubmitted)return ad(!0);c?ap(d,f):ap()}).catch(function(e){var a,b;(null===(a=e.response.data)|| void 0===a?void 0:null===(b=a.error)|| void 0===b?void 0:b.message)==="Survey not found"&&(c?ap(d,f):ap())})}},ap=(x=(0,aa.Z)(ab().mark(function a(b,c){var d,g,h,i;return ab().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return ac(!0),a.next=3,ao({setUserParticipant:V,templateURL:null==e?void 0:e.templateURL,challengeURL:e.challengeURL,userEmail:c||(af?S:A),userId:b||(af?R:z)});case 3:if(d=a.sent,g=function(a){al(function(b){return(0,C.Z)((0,B.Z)({},b),{open:a.openGithubDialog})})},h=function(a){a.templateURL&&al(function(b){return(0,C.Z)((0,B.Z)({},b),{open:a.openGithubDialog,invitationURL:a.msg})}),(0,$.D0)((0,C.Z)((0,B.Z)({},$.IX),{title:f("congratulations","challenge"),text:f("successfully_started","challenge"),didClose:function(){K(),af&&Q().reload()}}))},(i={400:function(a){return g(a)},201:function(a){return h(a)},500:function(a){return console.log(a)}})[d.status](d),ac(!1),!af){a.next=11;break}return a.abrupt("return",d);case 11:case"end":return a.stop()}},a)})),function(a,b){return x.apply(this,arguments)}),W=function(b,a){af||a&&"backdropClick"===a||ad(!1)},Y=(y=(0,aa.Z)(ab().mark(function a(){var b,c,d,e,f,g,h;return ab().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b="Debes completar todos los campos",!U.from.id||(e=U.lang,!((g=(f=T.find(function(a){return a.lang===e})).questions.filter(function(a){return a.isRequired}).length)>(h=(null===(d=null==U?void 0:null===(c=U.answers)|| void 0===c?void 0:c.filter(function(b){var a;return null==f?void 0:null===(a=f.questions)|| void 0===a?void 0:a.some(function(a){return(null==a?void 0:a.id)===(null==b?void 0:b.questionId)&&(null==a?void 0:a.isRequired)})}))|| void 0===d?void 0:d.length)||0)))){a.next=9;break}return a.abrupt("return",ae(b));case 9:Promise.all([D().post("".concat(a$,"surveys"),U)]).then(function(){W(),ap()});case 10:case"end":return a.stop()}},a)})),function(){return y.apply(this,arguments)}),b={unstarted:{color:"primary",alert:"",action:v,text:f("start_challenge","challenge")},started:{color:"success",alert:"success",action:null,text:f("successfully_started","challenge")},unlogged:{color:"primary",alert:"",action:function(){return _(function(a){return!a})},text:f("login_start","challenge")},inactive:{color:"error",alert:"error",action:null,text:f("challenge_inactive","challenge")},finished:{color:"error",alert:f("challenge_finished","challenge"),action:null,text:f("challenge_finished","challenge")}},w=!!G.started,g=(0,E.useMemo)(function(){return"authorized"===H},[H]),i=J&&new Date(I)<new Date||!F,c=w||!g||i?w&&g&&!i?"started":g||i?"finished":g?"inactive":"unlogged":"unstarted";return(0,d.jsxs)(E.Fragment,{children:[b[c].action&&(0,d.jsx)(X.Z,{loading:l,disabled:l,onClick:b[c].action,variant:"contained",color:b[c].color,size:"large",children:b[c].text}),!b[c].action&&(0,d.jsx)(M.Z,{severity:b[c].color,children:b[c].text}),b[c].action&&(0,d.jsx)(aX.k,{open:u.open,onClose:function(){al(function(a){return(0,C.Z)((0,B.Z)({},a),{open:!a.open})})},invitationURL:u.invitationURL,challengeURL:null==e?void 0:e.challengeURL,templateURL:null==e?void 0:e.templateURL,handleStartChallenge:V,nextStep:K}),(0,d.jsx)(aW.E,{startChallenge:v,challenge:e,handlerOpen:b[c].action,openAuthFlow:L}),(0,d.jsx)(am.Z,{open:N,onClose:W,children:(0,d.jsx)(an.Z,{style:{maxWidth:600},children:(0,d.jsx)(aY.L,{currentEvent:{id:null==e?void 0:null===(h=e.from)|| void 0===h?void 0:h.id},currentUser:{id:z||R,email:A||S},surveys:T,answers:U,actions:{setEventId:function(a){return ak((0,C.Z)((0,B.Z)({},U),{from:(0,C.Z)((0,B.Z)({},U.from),{id:a})}))},setUserId:function(a){return ak((0,C.Z)((0,B.Z)({},U),{user:{id:a}}))},setAnswersLang:function(a){return ak((0,C.Z)((0,B.Z)({},U),{lang:a}))},removeAnswer:function(a){return ak((0,C.Z)((0,B.Z)({},U),{answers:U.answers.filter(function(b){return b.questionId!==a})}))},newAnswer:function(a){return ak((0,C.Z)((0,B.Z)({},U),{answers:(0,aV.Z)(U.answers).concat([a])}))},updateAnswer:function(a){ak((0,C.Z)((0,B.Z)({},U),{answers:U.answers.map(function(b){return b.questionId===a.questionId?a:b})}))}},error:O,submitAction:Y,showSubmitButton:!0})})})]})},a0=function(a){var h=a.start,i=a.end,c=a.isActive,f=a.isEventChallenge,j=a.isTrainningCampChallenge,k=a.userParticipation,l=a.technologies,b=a.challenge,m=a.setChallengeUserParticipation,n=a.userId,o=a.userEmail,p=a.status,q=a.stepIndex,r=(0,ai.Z)(a,["start","end","isActive","isEventChallenge","isTrainningCampChallenge","userParticipation","technologies","challenge","setChallengeUserParticipation","userId","userEmail","status","stepIndex"]);return(0,d.jsxs)(J.ZP,{sx:{margin:"1rem 0rem"},container:!0,spacing:0,children:[(0,d.jsx)(J.ZP,{sx:{display:"grid",placeItems:"center"},item:!0,xs:12,children:(0,d.jsxs)(e.Z,{sx:{width:"100%",display:"grid",placeItems:"center"},children:[(0,d.jsxs)(g.Z,{align:"center",variant:"h3",children:["".concat(q,". "),(0,d.jsx)(P.Z,{ns:"challenge",text:"start_the_challenge"})]}),(0,d.jsx)(aQ,{start:h,end:i,isEventChallenge:f,isActive:c,technologies:l,isTrainningCampChallenge:j})]})}),(0,d.jsxs)(J.ZP,{item:!0,xs:12,children:[(0,d.jsxs)(e.Z,{children:[(0,d.jsx)(g.Z,{gutterBottom:!0,variant:"h4",children:"Introduction to the challenge"}),(0,d.jsx)(g.Z,{gutterBottom:!0,variant:"body2",children:null==b?void 0:b.summary})]}),(0,d.jsx)(e.Z,{style:{margin:"2rem 0rem",display:"grid",placeItems:"center"},children:(0,d.jsx)(a_,{setChallengeUserParticipation:m,challenge:b,userId:n,userEmail:o,userParticipation:k,isActive:c,status:p,end:b.endTime,isEventChallenge:f,handlerControledStep:r.handlerControledStep})})]})]})},a1=a(44472),a2=a(83578),a3=a(76624),a4=function(e,g,i){var a=e.started,b=e.submitted,c=e.evaluated,f=e.isTeamLead,d=e.teamId,h={unstarted:0,started:1,submited:2,evaluated:2,default:0};return"Grupal"!==g||f||!d||a||b||c?(0,h["Grupal"===g?f||d||a||b||c?f||!d||!a||b||c?f&&d&&a&&!b&&!c?"started":a&&d&&b&&!c?"submited":a&&d&&b&&c?"evaluated":"default":"started":"unstarted":a||b||c?!a||b||c?a&&b&&!c?"submited":a&&b&&c?"evaluated":"default":"started":"unstarted"]):h.started},l=function(b){var c=b.views,k=b.steps,l=b.userParticipation,m=b.teamState,f=b.challengeType,h=b.user,i=(0,E.useState)(a4((0,B.Z)({},l),f,null==h?void 0:h.id)),a=i[0],p=i[1],j=(0,P.T)().translate;(0,E.useEffect)(function(){"Grupal"!==f||m.isLoading||p(a4((0,B.Z)({},l),f))},[m,f]);var q=function(a){p(function(b){return({0:0,1:1,2:b+1===3?2:b+1})[a]})},r=function(a,b){var c={0:0,1:1,2:2,3:b},d=c[a]>0?b<c[a]?{go:b,msg:""}:{go:c[a],msg:b===c[a]?"":"debes completar el paso actual"}:{go:null,msg:"debes completar el paso actual"};p(function(a){return null!=d.go?d.go:a})},n=c[a>c.length-1?c.length-1:a].content.component,o=c[a>c.length-1?c.length-1:a].content.props;return(0,d.jsxs)(e.Z,{sx:{width:"100%"},children:[(0,d.jsx)(u.Z,{style:{margin:"48px 0px"},children:(0,d.jsxs)(S.Z,{children:[(0,d.jsx)(g.Z,{align:"center",sx:{margin:"25px 0px"},variant:"h4",children:(0,d.jsx)(P.Z,{ns:"challenge",text:"next_steps"})}),(0,d.jsx)(a3.Z,{activeStep:a,children:k.map(function(a,b){return(0,d.jsx)(a1.Z,(0,C.Z)((0,B.Z)({onClick:function(){return r(a4((0,B.Z)({},l),f),b)}},{}),{children:(0,d.jsx)(a2.Z,(0,C.Z)((0,B.Z)({style:{cursor:"pointer"}},{}),{children:j(a,"challenge")}))}),a)})}),(0,d.jsxs)(e.Z,{sx:{display:"flex",flexDirection:"row",pt:2},children:[(0,d.jsx)(O.Z,{color:"inherit",disabled:0===a,onClick:function(){p(function(a){return a-1})},sx:{mr:1,mt:2},children:j("step_action_back","challenge")}),(0,d.jsx)(e.Z,{sx:{flex:"1 1 auto"}}),(0,d.jsx)(O.Z,{variant:"outlined",onClick:function(){return q(a4((0,B.Z)({},l),f))},disabled:a>=2,sx:{mt:2},children:j("steps_action_next","challenge")})]})]})}),(0,d.jsx)(E.Fragment,{children:(0,d.jsx)(e.Z,{children:(0,d.jsx)(n,(0,C.Z)((0,B.Z)({},o),{handlerControledStep:function(){p(function(a){return a+1})}}))})})]})};l.propTypes={views:c.PropTypes.array,steps:c.PropTypes.array},l.defaultProps={views:[{content:(0,d.jsx)(e.Z,{children:(0,d.jsx)(g.Z,{variant:"body2",children:"content 1"})})},{content:(0,d.jsx)(e.Z,{children:(0,d.jsx)(g.Z,{variant:"body2",children:"content 2"})})},{content:(0,d.jsx)(e.Z,{children:(0,d.jsx)(g.Z,{variant:"body2",children:"content 3"})})},{content:(0,d.jsx)(e.Z,{children:(0,d.jsx)(g.Z,{variant:"body2",children:"content 3"})})}],steps:["Start the challenge","Solve the challenge","My score"]};var a5=function(c){var j,m,p=c.loading,b=c.challenge,a=c.user,o=c.status,f=c.actions,g=(c.showCyberCheckFlag,c.isTrainningCampChallenge),n=c.isEventChallenge,q=c.getUserProjectId,r=c.setProjectId,h=c.projectId,i=c.collaboratorStatus,s="collaborator"===i&&h&&!(null==a?void 0:null===(j=a.participation)|| void 0===j?void 0:j.submitted),t="requested"===i||"collaborator"===i&&!(null==a?void 0:null===(m=a.participation)|| void 0===m?void 0:m.submitted),u=!!b.templateURL;return(0,d.jsxs)(J.ZP,{container:!0,spacing:6,children:["requested"===i&&h&&(0,d.jsx)(M.Z,{variant:"filled",severity:"warning",color:"warning",sx:{width:"100%",mt:5,ml:5},action:(0,d.jsxs)(O.Z,{color:"inherit",size:"small",style:{display:"flex",alignItems:"center",fontWeight:"bold"},onClick:function(){return window.open("https://github.com/nuwe-reports/"+h+"/invitations")},children:[(0,d.jsx)(P.Z,{ns:"challenge",text:"view_invitation"})," ",(0,d.jsx)(L.Z,{sx:{fontSize:"1rem",marginLeft:1}})]}),children:(0,d.jsx)(P.Z,{ns:"challenge",text:"not_github_collaborator_warning_individual"})}),s&&(0,d.jsx)(M.Z,{variant:"filled",severity:"success",color:"success",sx:{width:"100%",mt:5,ml:5},action:(0,d.jsxs)(O.Z,{color:"inherit",size:"small",style:{display:"flex",alignItems:"center",fontWeight:"bold"},onClick:function(){return window.open("https://github.com/nuwe-reports/"+h)},children:[(0,d.jsx)(P.Z,{ns:"challenge",text:"view_repository"})," ",(0,d.jsx)(L.Z,{sx:{fontSize:"1rem",marginLeft:1}})]}),children:(0,d.jsx)(P.Z,{ns:"challenge",text:"use_repository_individual"})}),t&&(0,d.jsxs)(M.Z,{severity:"info",color:"info",sx:{width:"100%",mt:5,ml:5},children:[(0,d.jsx)(N.Z,{children:(0,d.jsx)(P.Z,{ns:"challenge",text:"repo_title"})}),(0,d.jsxs)(e.Z,{sx:{display:"flex",flexDirection:"column",mt:4},children:[(0,d.jsx)("span",{children:(0,d.jsx)(P.Z,{ns:"challenge",text:"repo_step_1"})}),(0,d.jsx)("span",{children:(0,d.jsx)(P.Z,{ns:"challenge",text:"repo_step_2"})}),(0,d.jsx)("span",{children:(0,d.jsx)(P.Z,{ns:"challenge",text:"repo_step_3"})}),(0,d.jsx)("span",{children:(0,d.jsx)(P.Z,{ns:"challenge",text:"repo_step_4"})}),(0,d.jsx)("span",{children:(0,d.jsx)(P.Z,{ns:"challenge",text:"repo_step_5"})}),(0,d.jsx)("span",{style:{marginTop:20},children:(0,d.jsx)(P.Z,{ns:"challenge",text:"repo_remember"})})]})]}),(0,d.jsx)(J.ZP,{item:!0,xs:12,children:(0,d.jsx)(k,{challenge:b,user:a,status:o,loading:p,actions:f,isEventChallenge:n,userParticipation:null==a?void 0:a.participation})}),(0,d.jsx)(J.ZP,{item:!0,xs:12,children:(0,d.jsx)(l,{user:a,userParticipation:null==a?void 0:a.participation,challengeType:"Individual",steps:["start_the_challenge","solve_the_challenge","my_score"],views:[{content:{component:a0,props:{start:b.startTime,end:g?b.eventEndTime:b.endTime,isEventChallenge:n,isTrainningCampChallenge:g,isActive:b.active,technologies:b.technologies,userParticipation:null==a?void 0:a.participation,challenge:b,setChallengeUserParticipation:f.setChallengeUserParticipation,userId:null==a?void 0:a.id,userEmail:a.email,status:o,stepIndex:1,challengeType:"Individual"}}},{content:{component:aS,props:{start:b.startTime,end:g?b.eventEndTime:b.endTime,isActive:b.active,isEventChallenge:n,isTrainningCampChallenge:g,started:b.started,description:b.description,technologies:b.technologies,userParticipation:null==a?void 0:a.participation,challenge:b,user:a,setChallengeUserSubmit:f.setChallengeUserSubmit,stepIndex:2,challengeType:"Individual",projectId:h}}},{content:{component:ah,props:{userParticipation:null==a?void 0:a.participation,username:null==a?void 0:a.username,userName:null==a?void 0:a.name,challengeTitle:b.title,stepIndex:3,challengeType:"Individual",getUserProjectId:q,setProjectId:r,projectId:h,challengeId:null==b?void 0:b.id,isTemplate:u,setChallengeUserSubmit:f.setChallengeUserSubmit,user:a,challenge:b,handlerControledStep:function(){return null}}}}]})})]})},a6="https://api.nuwe.io/",a7=function(a){var b,c,s,u,e=a.challenge,v=a.teamState,f=a.status,g=a.user,h=(0,E.useState)(!1),w=h[0],P=h[1],i=function(){return P(function(a){return!a})},Q=(0,aZ.H)().unregisteredInChallenge,j=(0,E.useState)(!1),x=j[0],R=j[1],k=(0,E.useState)(null),y=k[0],S=k[1],l=(0,E.useState)(!1),T=l[0],U=l[1],m=(0,E.useState)(""),z=m[0],V=m[1],n=(0,E.useState)(""),A=n[0],W=n[1],o=(0,E.useState)(null),F=o[0],X=o[1],p=(0,E.useState)(null),Y=p[0],Z=p[1],q=(0,E.useState)({user:{id:""},from:{id:"",type:"event"},answers:[],type:"eventSignUpAnswers",lang:""}),G=q[0],$=q[1],H=(0,t.useRouter)(),I=(0,E.useMemo)(function(){return"authorized"===f},[f]),J=(0,E.useMemo)(function(){return null==g?void 0:g.email},[g]),K=(0,E.useMemo)(function(){return null==g?void 0:g.id},[g]),L=(0,E.useMemo)(function(){var a;return null==e?void 0:null===(a=e.from)|| void 0===a?void 0:a.id},[e]),M=null!==(c=null===(b=H.query)|| void 0===b?void 0:b.eventUrl)&& void 0!==c?c:"",_=(s=(0,aa.Z)(ab().mark(function a(){return ab().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!g){a.next=3;break}return a.next=3,Q({setUserParticipant:function(){},templateURL:null==e?void 0:e.templateURL,challengeURL:e.challengeURL,userEmail:g.email,userId:g.id});case 3:window.open("/dev/competitions/teams/".concat(M),"_blank");case 4:case"end":return a.stop()}},a)})),function(){return s.apply(this,arguments)}),r=function(a){var b=a.isNewUser,c=a.id,d=a.email,e=a.showSuccess;if(void 0!==b&&b&&(U(!0),V(c),W(d)),e&&Z(function(){return function(){return e()}}),!L)return _();D().get("".concat(a6,"surveys/type/event-sign-up/event/").concat(L),{withCredentials:!0}).then(function(a){return(X(a.data.surveys),a.data.answersSubmitted)?_():R(!0)}).catch(function(c){var a,b;if((null===(a=c.response.data)|| void 0===a?void 0:null===(b=a.error)|| void 0===b?void 0:b.message)==="Survey not found")return _()})},N=function(b,a){T||a&&"backdropClick"===a||R(!1)},O=(u=(0,aa.Z)(ab().mark(function a(){var b,c,d,e,f;return ab().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b="Debes completar todos los campos",!G.from.id||(c=G.lang,!((e=(d=F.find(function(a){return a.lang===c})).questions.filter(function(a){return a.isRequired}).length)>(f=G.answers.length)))){a.next=8;break}return a.abrupt("return",S(b));case 8:Promise.all([D().post("".concat(a6,"surveys"),G),D().patch("".concat(a6,"events/id/").concat(L,"/join"),{userId:K},{headers:{"Content-Type":"application/json"},withCredentials:!0})]).then(function(){if(N(),Y)return Y();_()});case 9:case"end":return a.stop()}},a)})),function(){return u.apply(this,arguments)});return(0,d.jsxs)(E.Fragment,{children:[(0,d.jsx)(a8,{teamState:v,handleSwitch:i,isLoggedIn:I,userEmail:J,userId:K,id:z,email:A,disableTeamsButton:!M||"loading"===f,openEventSurveyDialog:x,handleCloseEventSurveyDialog:N,eventSignUpSurveys:F,eventSignUpAnswers:G,eventSignUpSurveyActions:{setEventId:function(a){return $((0,C.Z)((0,B.Z)({},G),{from:(0,C.Z)((0,B.Z)({},G.from),{id:a})}))},setUserId:function(a){return $((0,C.Z)((0,B.Z)({},G),{user:{id:a}}))},setAnswersLang:function(a){return $((0,C.Z)((0,B.Z)({},G),{lang:a}))},removeAnswer:function(a){return $((0,C.Z)((0,B.Z)({},G),{answers:G.answers.filter(function(b){return b.questionId!==a})}))},newAnswer:function(a){return $((0,C.Z)((0,B.Z)({},G),{answers:(0,aV.Z)(G.answers).concat([a])}))},updateAnswer:function(a){$((0,C.Z)((0,B.Z)({},G),{answers:G.answers.map(function(b){return b.questionId===a.questionId?a:b})}))}},errorMessage:y,submitEventSurvey:O,checkEventSurvey:r,goToMyTeam:function(){return window.open("/dev/competitions/teams/".concat(M,"/myteam"),"_blank")},eventId:L}),(0,d.jsx)(aW.E,{handlerOpen:i,challenge:e,openAuthFlow:w,startChallenge:r})]})},a8=function(a){var h=a.teamState,i=a.isLoggedIn,c=a.handleSwitch,j=a.userEmail,k=a.userId,l=a.id,m=a.email,n=a.disableTeamsButton,o=a.openEventSurveyDialog,p=a.handleCloseEventSurveyDialog,q=a.eventSignUpSurveys,r=a.eventSignUpAnswers,s=a.eventSignUpSurveyActions,t=a.errorMessage,u=a.submitEventSurvey,e=a.checkEventSurvey,f=a.goToMyTeam,v=a.eventId,b=(0,P.T)().translate,g=[{show:function(a,b){return a&&!b},action:e,title:b("create_or_join_team","challenge")},{show:function(a,b){return a&&b},action:f,title:b("my_team","challenge")},{show:function(a){return!a},action:c,title:b("login_create_or_join_team","challenge")}];return g.map(function(a){var c=a.show,e=a.action,b=a.title,f=c(i,h.isTeam);return f?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(X.Z,{loading:h.isLoading,disabled:n,onClick:e,variant:"contained",size:"large",sx:{mt:5},children:b},b),(0,d.jsx)(am.Z,{open:o,onClose:p,children:(0,d.jsx)(an.Z,{style:{maxWidth:600},children:(0,d.jsx)(aY.L,{currentEvent:{id:v},currentUser:{id:k||l,email:j||m},surveys:q,answers:r,actions:s,error:t,submitAction:u,showSubmitButton:!0})})})]}):null})},a9=function(a){var b=a.challenge,c=a.teamState,f=a.stepIndex,h=a.status,i=a.user,j=(0,ai.Z)(a,["challenge","teamState","stepIndex","status","user"]);return(0,d.jsx)(J.ZP,{sx:{margin:"1rem 0rem"},container:!0,spacing:0,children:(0,d.jsx)(J.ZP,{sx:{display:"grid",placeItems:"center"},item:!0,xs:12,children:(0,d.jsxs)(e.Z,{children:[(0,d.jsxs)(g.Z,{gutterBottom:!0,align:"center",variant:"h3",children:[f,". ",(0,d.jsx)(P.Z,{text:"create_or_join_team",ns:"challenge"})]}),(0,d.jsx)(g.Z,{align:"center",variant:"body2",gutterBottom:!0,sx:{marginBottom:"2rem"},children:(0,d.jsx)(P.Z,{text:"create_or_join_team_description",ns:"challenge"})}),(0,d.jsx)(g.Z,{gutterBottom:!0,align:"center",variant:"h4",children:(0,d.jsx)(P.Z,{text:"introduction_to_challenge",ns:"challenge"})}),(0,d.jsx)(g.Z,{align:"center",variant:"body1",gutterBottom:!0,children:null==b?void 0:b.summary}),(0,d.jsx)(e.Z,{sx:{display:"grid",placeItems:"center",margin:"1rem 0rem"},children:(0,d.jsx)(a7,{handlerControledStep:j.handlerControledStep,teamState:c,challenge:b,status:h,user:i})})]})})})},ba=function(c){var j=c.loading,b=c.challenge,a=c.user,g=c.status,h=c.actions,i=(c.showCyberCheckFlag,c.isEventChallenge),e=c.teamState,m=c.getTeamProjectId,n=c.setProjectId,o=c.projectId,f=(0,P.T)().translate;return(0,d.jsxs)(J.ZP,{container:!0,spacing:6,children:[(0,d.jsx)(J.ZP,{item:!0,xs:12,children:(0,d.jsx)(k,{challenge:b,user:a,status:g,loading:j,actions:h,isEventChallenge:i,userParticipation:null==a?void 0:a.participation})}),(0,d.jsx)(J.ZP,{item:!0,xs:12,children:(0,d.jsx)(l,{userParticipation:null==a?void 0:a.participation,steps:[f("create_or_join_team","challenge"),f("solve_the_challenge","challenge"),f("my_score","challenge")],teamState:e,challengeType:"Grupal",views:[{content:{component:a9,props:{challenge:b,teamState:e,stepIndex:1,status:g,user:a}}},{content:{component:aS,props:{start:b.startTime,end:b.endTime,isActive:b.active,isEventChallenge:i,started:b.started,description:b.description,technologies:b.technologies,userParticipation:null==a?void 0:a.participation,challenge:b,user:a,setChallengeUserSubmit:h.setChallengeUserSubmit,stepIndex:2,teamId:null==e?void 0:e.teamId}}},{content:{component:ah,props:{userParticipation:null==a?void 0:a.participation,userName:null==a?void 0:a.name,challengeTitle:b.title,stepIndex:3,getTeamProjectId:m,setProjectId:n,projectId:o,challengeId:null==b?void 0:b.id}}}]})})]})},bb=function(){return(0,d.jsxs)(J.ZP,{container:!0,spacing:6,children:[(0,d.jsx)(J.ZP,{item:!0,xs:12,children:(0,d.jsx)(K.Z,{variant:"rectangular",style:{borderRadius:"5px"},width:"100%",height:"70vh"})}),(0,d.jsxs)(J.ZP,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},item:!0,xs:12,children:[(0,d.jsx)(K.Z,{variant:"rectangular",style:{borderRadius:"5px"},width:"100%",height:150}),(0,d.jsx)(K.Z,{variant:"rectangular",style:{borderRadius:"5px"},width:"100%",height:150}),(0,d.jsx)(K.Z,{variant:"rectangular",style:{borderRadius:"5px"},width:"100%",height:150}),(0,d.jsx)(K.Z,{variant:"rectangular",style:{borderRadius:"5px"},width:"100%",height:150})]})]})},j=function(a){var b=a.loading,c=a.challenge,f=a.user,e=a.status,g=a.actions,h=a.isEventChallenge,i=a.showCyberCheckFlag,m=a.isTrainningCampChallenge,j=a.teamState,n=a.getUserProjectId,o=a.getTeamProjectId,k=a.setProjectId,l=a.projectId,p=a.collaboratorStatus,q={loading:(0,d.jsx)(bb,{}),Individual:(0,d.jsx)(a5,{loading:b,challenge:c,user:f,status:e,actions:g,isEventChallenge:h,isTrainningCampChallenge:m,showCyberCheckFlag:i,getUserProjectId:n,setProjectId:k,projectId:l,collaboratorStatus:p}),Grupal:j.isLoading?(0,d.jsx)(bb,{}):(0,d.jsx)(ba,{loading:b,challenge:c,user:f,status:e,actions:g,isEventChallenge:h,showCyberCheckFlag:i,teamState:j,getTeamProjectId:o,setProjectId:k,projectId:l})};return b&&"unauthorized"!=e?(0,d.jsx)(bb,{}):q[c.type]},bc=j;j.propTypes={loading:c.PropTypes.bool,user:c.PropTypes.object,status:c.PropTypes.string,challenge:c.PropTypes.object,actions:c.PropTypes.object},j.defaultProps={user:{},challenge:{}};var bd=function(){var f,g,h,i,j,b=(0,G.L)(),a=b.challenge,t=b.loading,c=b.user,u=b.status,v=b.openSurvey,O=b.setOpenSurvey,w=b.setChallengeUserParticipation,x=b.setChallengeUserSubmit,P=b.getUserIsTeamLeadByChallengeId,Q=b.getUserSatisfactionSurvey,y=b.getUserProjectId,z=b.getTeamProjectId,k=b.projectId,A=b.setProjectId,R=b.getCollaboratorStatus,S=b.setCollaboratorStatus,J=b.collaboratorStatus,T=(b.surveys,b.setSurveys),U=(b.showTermsDialog,b.setShowTermsDialog);b.startChallenge;var V=(0,r.Y)(s.D).getUserTeamByChallengeId,l=(0,E.useState)({isLoading:!0,isTeam:!1,teamId:!1}),m=l[0],W=l[1],K=null==c?void 0:c.id,e=null==a?void 0:null===(f=a.participants)|| void 0===f?void 0:f.find(function(a){return a.id===K}),L=null==e?void 0:e.submitted,n=null==a?void 0:a.id,o=null==a?void 0:null===(g=a.from)|| void 0===g?void 0:g.id,p=(null==a?void 0:null===(h=a.from)|| void 0===h?void 0:h.type)==="trainning-camp",M=new Date(a.startTime)<new Date&&p?new Date(a.eventEndTime)>new Date:new Date(a.endTime)>new Date,N=(null==a?void 0:a.subCategory)==="Cybersecurity";(0,I.G)(null==c?void 0:c.id);var q=(0,F.ZP)(n,function(a){return P(a)},{revalidateOnFocus:!1}).data;(0,E.useEffect)(function(){(null==c?void 0:c.id)&&o&&D().get("".concat("https://api.nuwe.io/","surveys/type/event-sign-up/event/").concat(o),{withCredentials:!0}).then(function(a){a.data.answersSubmitted&&(T(a.data.surveys),U(!0))}).catch(function(){return null})},[null==c?void 0:c.id,o]),(0,E.useEffect)(function(){n&&K&&L&&Q(n,K).then(function(a){404===a.status&&O(!0)})},[n,K,e]),(0,E.useEffect)(function(){n&&"Individual"!=a.type&&V(a.id).then(function(a){if(200===a.status)return W({isLoading:!1,isTeam:!0,teamId:a.data.id});W({isLoading:!1,isTeam:!1,teamId:""})})},[a]);var X=function(a,b){404!==a&&A(b)};return(0,E.useEffect)(function(){e&&!k&&(null==a?void 0:a.templateURL)&&e.id&&(null==a?void 0:a.type)==="Individual"&&e.started&&!e.submitted&&y(n,e.id).then(function(a){var b=a.data.id;X(a.status,b),(null==c?void 0:c.githubUsername)&&R({username:c.githubUsername,projectId:b}).then(function(a){return S(a.data.status)})})},[e,k,null==a?void 0:a.templateURL]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(bc,{actions:{setChallengeUserParticipation:w,setChallengeUserSubmit:x},challenge:a,user:(0,C.Z)((0,B.Z)({},c),{participation:(0,C.Z)((0,B.Z)({},e),{isTeamLead:null==q?void 0:null===(i=q.data)|| void 0===i?void 0:i.userIsTeamLead,teamId:m.teamId})}),status:u,loading:t,isEventChallenge:o,isTrainningCampChallenge:p,showCyberCheckFlag:N&&M&&e&&!L,teamState:m,getUserProjectId:y,getTeamProjectId:z,setProjectId:A,projectId:k,collaboratorStatus:J}),(0,d.jsx)(H.F,{challenge:{id:null==a?void 0:a.id},event:{id:(null==a?void 0:a.lastChallenge)&&(null==a?void 0:null===(j=a.from)|| void 0===j?void 0:j.id)},user:{id:null==c?void 0:c.id},popup:{open:v,close:function(){return O(!1)}},landingCheck:!0})]})},be=a(94054),bf=a(47312),bg=a(39292),bh=a(45747),bi=function(a){var b=a.total,c=a.filter,h=a.onChange,f=a.isAuthenticated;return(0,d.jsxs)(e.Z,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",mb:"1rem"},children:[(0,d.jsxs)("section",{children:[(0,d.jsx)(g.Z,{variant:"h4",component:"h3",children:(0,d.jsx)(P.Z,{text:"challenges_page_title",ns:"challenges"})}),(0,d.jsxs)(g.Z,{variant:"body1",component:"p",children:[null!=b?b:0," ",(0,d.jsx)(P.Z,{text:"challenges_found",ns:"challenges"})]})]}),f&&(0,d.jsxs)(be.Z,{children:[(0,d.jsx)(bf.Z,{id:"challenges-status-filter-label",children:"Status"}),(0,d.jsx)(aA.Z,{labelId:"challenges-status-filter-label",id:"challenges-status-filter",value:c,label:"Status",onChange:function(a){return h(a.target.value)},children:["all","completed","in_progress","not_started"].map(function(a){return(0,d.jsx)(az.Z,{value:a,children:(0,d.jsx)(P.Z,{text:a,ns:"common"})},a)})})]})]})},bj=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)(K.Z,{style:{margin:"10px",borderRadius:"5px"},variant:"rect",width:"100%",height:"60px"}),(0,d.jsx)(K.Z,{style:{margin:"10px",borderRadius:"5px"},variant:"rect",width:"100%",height:"60px"}),(0,d.jsx)(K.Z,{style:{margin:"10px",borderRadius:"5px"},variant:"rect",width:"100%",height:"60px"}),(0,d.jsx)(K.Z,{style:{margin:"10px",borderRadius:"5px"},variant:"rect",width:"100%",height:"60px"}),(0,d.jsx)(K.Z,{style:{margin:"10px",borderRadius:"5px"},variant:"rect",width:"100%",height:"60px"}),(0,d.jsx)(K.Z,{style:{margin:"10px",borderRadius:"5px"},variant:"rect",width:"100%",height:"60px"})]})},bk=function(a){var b=a.challenges,c=a.levelSystem,e=a.type,f=a.filter,g=a.totalChallenges,h=a.handleFilter,i=a.isAuthenticated;return b.loading?(0,d.jsx)(bj,{}):(0,d.jsxs)("div",{children:[(0,d.jsx)(bg.V,{title:(0,d.jsx)(P.Z,{text:"challenges_page_title",ns:"challenges"}),subtitle:(0,d.jsx)(P.Z,{text:"challenges_page_description",ns:"challenges"})}),(0,d.jsx)(bi,{filter:f,total:g,onChange:h,isAuthenticated:i}),(0,d.jsx)(bh.L,{active:"active"===e,levelSystem:c,challenges:b.data})]})},bl=function(b){var i=b.data,j=b.levelSystem,c=b.loading,e=b.previous,f=(0,aO.n)(),g=f.user,k=f.status,h=(0,E.useState)({initialChallenges:[],totalChallenges:0,filter:"all",challenges:[]}),a=h[0],l=h[1];(0,I.z)(null==g?void 0:g.id),(0,E.useEffect)(function(){if(!c){var a=n(i);l(function(b){return(0,C.Z)((0,B.Z)({},b),{challenges:i,initialChallenges:i,totalChallenges:a})})}},[i,c]);var m=function(a,b,c){return null==a?void 0:a.map(function(a){var d,e=null==a?void 0:null===(d=a.challenges)|| void 0===d?void 0:d.filter(function(a){return c(a,b)});return(0,C.Z)((0,B.Z)({},a),{challenges:e,cant:null==e?void 0:e.length})})},n=function(a){return null==a?void 0:a.reduce(function(b,a){return b+(null==a?void 0:a.cant)||0},0)};return(0,d.jsx)(bk,{type:null!=e?e:"active",levelSystem:j,filter:a.filter,totalChallenges:null==a?void 0:a.totalChallenges,isAuthenticated:"authorized"===k,challenges:{data:null==a?void 0:a.challenges,loading:c},handleFilter:function(b){var c=null,d=function(a,b){return((null==a?void 0:a.submitted)||(null==a?void 0:a.evaluated))&&(null==a?void 0:a.id)===b},e=function(a,b){return(null==a?void 0:a.started)&&!a.submitted&&!a.evaluated&&(null==a?void 0:a.id)===b};"completed"===b&&(c=m(null==a?void 0:a.initialChallenges,null==g?void 0:g.id,function(b,c){var a;return null===(a=b.participants)|| void 0===a?void 0:a.some(function(a){return d(a,c)})})),"in_progress"===b&&(c=m(null==a?void 0:a.initialChallenges,null==g?void 0:g.id,function(b,c){var a;return null===(a=b.participants)|| void 0===a?void 0:a.some(function(a){return e(a,c)})})),"not_started"===b&&(c=m(null==a?void 0:a.initialChallenges,null==g?void 0:g.id,function(b,c){var a;return!(null===(a=b.participants)|| void 0===a?void 0:a.some(function(a){return d(a,c)||e(a,c)}))})),l(function(a){return(0,C.Z)((0,B.Z)({},a),{totalChallenges:n(null!=c?c:a.initialChallenges),filter:b,challenges:"all"===b?a.initialChallenges:c})})}})},m=a(8504),n=a(2781);a(3012);var bm=a(14924),z=a(61903);(0,i.ZP)(u.Z)(function(a){return{border:0,boxShadow:"none",backgroundSize:"cover",marginBottom:"10px",backgroundImage:"light"===a.theme.palette.mode?"url(https://images.unsplash.com/photo-1458302488426-c9fe676e00b0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MjV8fHRlY25vbG9nJUMzJUFEYXxlbnwwfDB8MHx3aGl0ZXw%3D&auto=format&fit=crop&w=900&q=60)":"url(https://images.unsplash.com/photo-1592424002053-21f369ad7fdb?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1974&q=80)"}}),(0,i.ZP)(z.Z)(function(b){var a=b.theme;return(0,bm.Z)({width:"100%","& .MuiOutlinedInput-root":{backgroundColor:a.palette.background.paper}},a.breakpoints.up("sm"),{width:450})}),a(41949),(0,m.C)(n.T).mapRankingToCtfTable;var o=(0,m.C)(n.T),bn=o.checkSubmittedFlag,bo=(o.getMinifiedChallengeParticipants,function(b){var c,d=b.data,a=useReducer(flagCheckReducer,initState),e=a[0],g=a[1],h=function(a,b){return g({type:a,payload:b})},f=(c=_async_to_generator(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==e.flag){a.next=3;break}return toast.error("Please enter a flag",{duration:3e3}),a.abrupt("return",h("FLAG_CHECK_END"));case 3:return a.next=5,toast.promise(bn(e.user,e.challenge,e.flag),{loading:"Checking flag...",success:"Flag is correct!",error:"Flag is incorrect, try again!"});case 5:case"end":return a.stop()}},a)})),function(){return c.apply(this,arguments)});return useEffect(function(){d&&h("INIT_STATE",d)},[d]),_jsx(FlagCheckContainer,_object_spread_props(_object_spread({},e),{setFlag:function(a){return h("SET_FLAG",a)},handleFlagCheckSubmit:f}))}),bp=a(83965),bq=a(98396),br=a(73271),bs=a(5306),bt=function(a){var g=a.onChange,e=a.filter,b=(0,br.r)(!0),f=b.technologies,c=b.loading;return(0,d.jsx)(bs.Z,{fullWidth:!0,multiple:!0,options:c?[]:f,loading:c,getOptionLabel:function(a){return a.name},filterSelectedOptions:!0,required:!0,renderInput:function(a){return(0,d.jsx)(z.Z,(0,C.Z)((0,B.Z)({},a),{label:"Stack",placeholder:"Stack"}))},onChange:function(b,a){return g(a)},value:e,"data-testid":"filter-technologies"})},bu=function(a){var b=a.categories,h=a.updateCategory,c=a.technologies,f=a.updateTechnologies,g=(0,bq.Z)(function(a){return a.breakpoints.down("sm")});return(0,d.jsxs)(e.Z,{sx:{display:"flex",marginBottom:"0.8rem",margin:"auto"},children:[(0,d.jsxs)(be.Z,{fullWidth:!0,style:{width:g?"100%":"30%",marginBottom:"0.8rem",marginRight:"0.5rem"},children:[(0,d.jsx)(bf.Z,{id:"category",children:(0,d.jsx)(P.Z,{text:"filter_category",ns:"hubs"})}),(0,d.jsx)(aA.Z,{value:b.selected,labelId:"category",label:"category",onChange:function(a){return h(a.target.value)},children:null==b?void 0:b.options.map(function(a){return(0,d.jsx)(az.Z,{value:a,children:"All"===a?(0,d.jsx)(P.Z,{text:a,ns:"hubs"}):a},a)})})]}),(0,d.jsx)(bt,{filter:c,onChange:f})]})},bv=function(a){var f=a.image,b=a.name,h=a.hubUrl,c=a.height;return(0,d.jsx)(aG(),{href:"/tech-hubs/hubs/".concat(h),passHref:!0,children:(0,d.jsx)("a",{style:{textDecoration:"none"},children:(0,d.jsxs)(u.Z,{children:[(0,d.jsx)(bp.Z,{sx:{height:void 0===c?300:c},children:(0,d.jsx)(e.Z,{sx:{position:"relative",width:"100%",height:"100%"},children:(0,d.jsx)(U.o,{alt:b,src:f})})}),(0,d.jsx)(g.Z,{textAlign:"center",variant:"h6",component:"div",gutterBottom:!0,sx:{margin:"1rem 0"},children:b})]})})})},bw=function(){return(0,d.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:Array(6).fill(0).map(function(b,a){return(0,d.jsx)(K.Z,{variant:"rect",width:"31%",height:"200px",style:{margin:"10px",borderRadius:"5px"}},a)})})},bx=function(a){var b=a.filteredHubs,c=a.technologies,e=a.updateTechnologies,f=a.categories,g=a.updateCategory,h=a.loading;return h?(0,d.jsx)(bw,{}):(0,d.jsxs)("div",{style:{marginTop:20},children:[(0,d.jsx)(bg.V,{title:(0,d.jsx)(P.Z,{text:"challenges_hubs_title",ns:"challenges"}),subtitle:(0,d.jsx)(P.Z,{text:"hubs_title",ns:"hubs"}),legend:(0,d.jsx)(P.Z,{text:"hubs_description",ns:"hubs"})}),(0,d.jsx)("div",{style:{marginTop:40},children:(0,d.jsxs)(J.ZP,{container:!0,spacing:6,children:[(0,d.jsx)(J.ZP,{item:!0,xs:12,children:(0,d.jsx)(bu,{categories:f,updateCategory:g,technologies:c,updateTechnologies:e})}),null==b?void 0:b.map(function(a){return(0,d.jsx)(J.ZP,{item:!0,xs:12,sm:6,lg:4,children:(0,d.jsx)(bv,{image:a.imageBackgroundCard,name:a.name,hubUrl:a.url})},a.id)})]})}),(null==b?void 0:b.length)===0&&(0,d.jsx)(J.ZP,{children:(0,d.jsx)(M.Z,{severity:"info",children:(0,d.jsx)(P.Z,{text:"challenges_hubs_alert",ns:"challenges"})})})]})},by={hubs:[],filteredHubs:[],loading:!0,categories:{selected:"All",options:["All","Frontend","Backend","Fullstack","Mobile","Data Science","UX/UI","Cybersecurity","Business analytics","Data Analyst"]},technologies:[],pagination:{},categoryQuery:"",technologiesQuery:""},f={SET_STATE:"SET_STATE",RESET_STATE:"RESET_STATE",UPDATE_CATEGORY_FILTER:"UPDATE_CATEGORY_FILTER",UPDATE_TECHNOLOGY_FILTER:"UPDATE_TECHNOLOGY_FILTER",UPDATE_DATA:"UPDATE_DATA"},bz=new Map([[f.SET_STATE,function(b,a){return(0,C.Z)((0,B.Z)({},b),{hubs:a.companies,filteredHubs:a.companies,pagination:a.pagination,loading:!1})}],[f.RESET_STATE,function(){return by}],[f.UPDATE_CATEGORY_FILTER,function(a,b){if("All"===b)return(0,C.Z)((0,B.Z)({},a),{categories:(0,C.Z)((0,B.Z)({},a.categories),{selected:b}),filteredHubs:a.hubs});var c=a.hubs.filter(function(c){var a;return null===(a=c.categories)|| void 0===a?void 0:a.includes(b)});return(0,C.Z)((0,B.Z)({},a),{categories:(0,C.Z)((0,B.Z)({},a.categories),{selected:b}),filteredHubs:c})}],[f.UPDATE_DATA,function(b,a){var c=a.key,d=a.payload;return(0,C.Z)((0,B.Z)({},b),(0,bm.Z)({},c,d))}],[f.UPDATE_TECHNOLOGY_FILTER,function(a,b){if(0===b.length)return(0,C.Z)((0,B.Z)({},a),{technologies:[],filteredHubs:a.hubs});var d=null==b?void 0:b.map(function(a){return a.id}),c=a.hubs.filter(function(a){return a.technologies.some(function(a){return d.includes(a)})});return(0,C.Z)((0,B.Z)({},a),{technologies:b,filteredHubs:c})}]]),bA=function(a,b){var d=b.type,e=b.payload,c=bz.get(d);return c?c(a,e):a},bB=function(e){var g=e.data,b=(0,aO.n)().user,c=(0,E.useReducer)(bA,by),a=c[0],h=c[1],i=(0,t.useRouter)();(0,E.useEffect)(function(){var b=i.query.category,a=i.query.technologies;if(b&&k(f.UPDATE_DATA,{key:"categoryQuery",payload:b}),a&&a.length>0){var c=a.split(",").map(function(a){return{id:a.split("-")[0],name:a.split("-")[1]}});k(f.UPDATE_DATA,{key:"technologiesQuery",payload:c})}},[i]);var j=function(a,b){if(""===b){var c=(0,B.Z)({},i.query);delete c[a],i.push({pathname:i.pathname,query:c});return}var d=i.query,e=i.pathname,f=(0,C.Z)((0,B.Z)({},d),(0,bm.Z)({},a,b));i.push({pathname:e,query:f})},k=(0,E.useCallback)(function(a,b){return h({type:a,payload:b})},[h]);return(0,I.G)(null==b?void 0:b.id),(0,E.useEffect)(function(){g&&k(f.SET_STATE,g),k(f.UPDATE_CATEGORY_FILTER,a.categoryQuery),k(f.UPDATE_TECHNOLOGY_FILTER,a.technologiesQuery)},[g,a.categoryQuery,a.technologiesQuery]),(0,d.jsx)(bx,(0,C.Z)((0,B.Z)({},a),{updateCategory:function(a){k(f.UPDATE_CATEGORY_FILTER,a),j("category",a)},updateTechnologies:function(a){if(k(f.UPDATE_TECHNOLOGY_FILTER,a),0===a.length){j("technologies",""),k(f.UPDATE_DATA,{key:"technologiesQuery",payload:a});return}j("technologies",a.map(function(a){return a.id+"-"+a.name}).join(","))}}))};(function i(a){var f=a.children,c=a.value,b=a.index,h=(0,ai.Z)(a,["children","value","index"]);return(0,d.jsx)("div",(0,C.Z)((0,B.Z)({role:"tabpanel",hidden:c!==b,id:"simple-tabpanel-".concat(b),"aria-labelledby":"simple-tab-".concat(b)},h),{children:c===b&&(0,d.jsx)(e.Z,{sx:{p:3},children:(0,d.jsx)(g.Z,{children:f})})}))}).propTypes={children:b().node,index:b().number.isRequired,value:b().number.isRequired}},31306:function(c,b,a){a.d(b,{d:function(){return l}});var d=a(85893),e=a(87952),f=a(51107),g=a(27948),h=a(50122),i=a(34386),j=a(11163),k=(0,a(66684).Z)(function(a){return{rankingAvatarContainerTeam:{display:"flex",width:"100%",alignItems:"center",padding:0},avatar:{border:0,width:30,height:30,fontSize:16},primary:{backgroundColor:"rgba(86, 155, 81, 0.8)"},secondary:{border:0,fontSize:12,marginLeft:-5,backgroundColor:"rgba(103, 114, 229, 0.8)",color:"white"},group:{marginRight:10},rankingPointsText:{fontSize:10,marginTop:5,marginLeft:1},tooltipBackground:{backgroundColor:"#14151F"},tooltipArrow:{color:"#14151F"},tooltipLink:{color:"white"},info:{display:"flex",alignItems:"center"},map:{display:"flex",flexDirection:"column",margin:"5px 0",marginBottom:10}}}),l=function(l){var c,a=l.members,b=k(),m=(0,j.useRouter)();return(0,d.jsx)(g.Z,{className:b.rankingAvatarContainerTeam,children:(0,d.jsx)(i.Z,{classes:{tooltip:b.tooltipBackground,arrow:b.tooltipArrow},title:null==a?void 0:a.map(function(a,c){return(0,d.jsx)("div",{className:b.map,children:(0,d.jsxs)("div",{className:b.info,children:[(0,d.jsx)(e.Z,{src:a.image,className:"".concat(b.avatar," ").concat(b.primary),style:{marginRight:8},children:null==a?void 0:a.username.charAt(0)}),(0,d.jsx)(h.Z,{href:"/profile/".concat(null==a?void 0:a.username),underline:"none",onClick:function(b){b.preventDefault(),m.push("/profile/".concat(null==a?void 0:a.username))},className:b.tooltipLink,prefetch:!1,children:a.username})]},c)},c)}),arrow:!0,interactive:!0,children:(0,d.jsxs)(f.Z,{max:3,className:b.group,children:[(0,d.jsx)(e.Z,{src:a[0].image,className:"".concat(b.avatar," ").concat(b.primary),style:{border:0},children:null===(c=a[0])|| void 0===c?void 0:c.username.charAt(0)}),(null==a?void 0:a.length)>1&&(0,d.jsx)(e.Z,{className:"".concat(b.avatar," ").concat(b.secondary),style:{border:0},children:"+".concat((null==a?void 0:a.length)-1)})]})})})}},24012:function(c,b,a){a.d(b,{m:function(){return g}});var d=a(85893),e=a(11057),f=a(95986),g=function(b){var h=b.invitation,a=b.actions,c=h.type,i=a.emitDeleteInvitation,j=a.emitAddUser2Team,k=a.setDeleteInvitation,g=(0,f.T)().translate;return(0,d.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center"},children:[(0,d.jsxs)(e.Z,{onClick:function(){j(h),k({invitationId:h.id})},variant:"contained",color:"primary",size:"small",style:{marginRight:10},children:["lead2user"===c&&g("join_the_team","teams"),"user2lead"===c&&g("add_to_team","teams")]}),(0,d.jsx)(e.Z,{onClick:function(){i({id:h.id,from:h.from,to:h.to,type:h.type}),k({invitationId:h.id})},variant:"outlined",color:"secondary",size:"small",children:(0,d.jsx)(f.Z,{ns:"teams",text:"delete_request"})})]})}},67105:function(c,b,a){a.d(b,{T:function(){return i}});var d=a(26042),e=a(69396),f=a(85893),g=a(87918),h=a(95986),i=function(c){var b=c.data,i=c.actions,j=b.invitation,a=b.participation,k=b.user,l=i.emitSendInvitation,m=i.setInvitationStatus;return a.hasTeam||"unsent"!==a.invitation.status?"sent"===a.invitation.status?(0,f.jsx)("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center"},children:(0,f.jsx)(g.Z,{label:(0,f.jsx)(h.Z,{ns:"teams",text:"request_sent_label"}),color:"warning",size:"small",variant:"outlined",style:{width:135,borderRadius:4}})}):"accepted"===a.invitation.status&&j.to.user.id!==k.id?(0,f.jsx)("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center"},children:(0,f.jsx)(g.Z,{label:(0,f.jsx)(h.Z,{ns:"teams",text:"teammate_label"}),color:"primary",size:"small",variant:"outlined",style:{borderRadius:4,width:135}})}):(0,f.jsx)("p",{children:"-"}):(0,f.jsx)("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center"},children:(0,f.jsx)(g.Z,{label:(0,f.jsx)(h.Z,{ns:"teams",text:"invite_label"}),color:"secondary",size:"small",style:{width:135,borderRadius:4,cursor:"pointer"},onClick:function(){l((0,e.Z)((0,d.Z)({},j),{type:"lead2user"})),m((0,e.Z)((0,d.Z)({},j),{status:"sent",userId:j.to.user.id,view:"participants"}))}})})}},39292:function(c,b,a){a.d(b,{V:function(){return h}});var d=a(85893),e=a(99226),f=a(15861),g=a(98396),h=function(a){var c=a.title,h=a.subtitle,i=a.legend,b=(0,g.Z)(function(a){return a.breakpoints.down("sm")});return(0,d.jsxs)(e.Z,{sx:{textAlign:"center",marginTop:"2rem",marginBottom:"1rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,d.jsx)(f.Z,{fontWeight:"bold",variant:"h4",component:"h2",color:"primary",gutterBottom:!0,children:c}),(0,d.jsx)(f.Z,{maxWidth:b?"100%":"70%",fontWeight:"400",variant:"h3",component:"h1",gutterBottom:!0,children:h}),(0,d.jsx)(f.Z,{maxWidth:b?"100%":"50%",fontWeight:"400",variant:"h6",color:"text.secondary",component:"h3",gutterBottom:!0,children:i})]})}}}])